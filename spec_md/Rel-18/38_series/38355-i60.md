+-----------------------------------------------------------------+---+
| 3GPP TS 38.355 V18.6.0 (2025-06)                                |   |
+=================================================================+===+
| Technical Specification                                         |   |
+-----------------------------------------------------------------+---+
| 3rd Generation Partnership Project;                             |   |
|                                                                 |   |
| Technical Specification Group Radio Access Network;             |   |
|                                                                 |   |
| NR;                                                             |   |
|                                                                 |   |
| Sidelink Positioning Protocol (SLPP);                           |   |
|                                                                 |   |
| Protocol specification                                          |   |
|                                                                 |   |
| (Release 18)                                                    |   |
+-----------------------------------------------------------------+---+
|                                                                 |   |
+-----------------------------------------------------------------+---+
|                                                                 |   |
+-----------------------------------------------------------------+---+
|                                                                 |   |
+-----------------------------------------------------------------+---+
| The present document has been developed within the 3rd          |   |
| Generation Partnership Project (3GPP ^TM^) and may be further   |   |
| elaborated for the purposes of 3GPP.\                           |   |
| The present document has not been subject to any approval       |   |
| process by the 3GPP Organizational Partners and shall not be    |   |
| implemented.\                                                   |   |
| This Specification is provided for future development work      |   |
| within 3GPP only. The Organizational Partners accept no         |   |
| liability for any use of this Specification.\                   |   |
| Specifications and Reports for implementation of the 3GPP ^TM^  |   |
| system should be obtained via the 3GPP Organizational           |   |
| Partners\' Publications Offices.                                |   |
+-----------------------------------------------------------------+---+

+----------------------------------------------------------------------+
|                                                                      |
+======================================================================+
| > 3GPP                                                               |
| >                                                                    |
| > Postal address                                                     |
| >                                                                    |
| > 3GPP support office address                                        |
| >                                                                    |
| > 650 Route des Lucioles - Sophia Antipolis                          |
| >                                                                    |
| > Valbonne - FRANCE                                                  |
| >                                                                    |
| > Tel.: +33 4 92 94 42 00 Fax: +33 4 93 65 47 16                     |
| >                                                                    |
| > Internet                                                           |
| >                                                                    |
| > http://www.3gpp.org                                                |
+----------------------------------------------------------------------+
| Copyright Notification                                               |
|                                                                      |
| No part may be reproduced except as authorized by written            |
| permission.\                                                         |
| The copyright and the foregoing restriction extend to reproduction   |
| in all media.                                                        |
|                                                                      |
| © 2025, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, |
| TTA, TTC).                                                           |
|                                                                      |
| All rights reserved.                                                 |
|                                                                      |
| UMTS™ is a Trade Mark of ETSI registered for the benefit of its      |
| members                                                              |
|                                                                      |
| 3GPP™ is a Trade Mark of ETSI registered for the benefit of its      |
| Members and of the 3GPP Organizational Partners\                     |
| LTE™ is a Trade Mark of ETSI registered for the benefit of its       |
| Members and of the 3GPP Organizational Partners                      |
|                                                                      |
| GSM® and the GSM logo are registered and owned by the GSM            |
| Association                                                          |
+----------------------------------------------------------------------+

 Contents {#contents .TT}
========

Foreword 6

1 Scope 7

2 References 7

3 Definitions of terms, symbols and abbreviations 8

3.1 Terms 8

3.2 Abbreviations 8

4 Functionality of Protocol 9

4.1 General 9

4.1.1 SLPP Configuration 9

4.1.2 SLPP Sessions and Transactions 9

4.1.3 SLPP Positioning Methods 9

4.1.4 SLPP Messages 9

4.2 Common SLPP Session Procedure 10

4.3 SLPP Transport 11

4.3.1 Transport Layer Requirements 11

4.3.2 SLPP Duplicate Detection 11

4.3.3 SLPP Acknowledgement 11

4.3.3.1 General 11

4.3.3.2 Procedure related to Acknowledgement 11

4.3.4 SLPP Retransmission 12

4.3.4.1 General 12

4.3.4.2 Procedure related to Retransmission 12

5 SLPP Procedures 13

5.1 Procedures related to capability transfer 13

5.1.1 General 13

5.1.2 Capability Transfer procedure 13

5.1.3 Capability Indication procedure 14

5.1.4 Transmission of SLPP Request Capabilities 14

5.1.5 Reception of SLPP Request Capabilities 14

5.1.6 Transmission of SLPP Provide Capabilities 15

5.2 Procedures related to Assistance Data Transfer 15

5.2.1 General 15

5.2.2 Assistance Data Transfer procedure 15

5.2.3 Assistance Data Delivery procedure 16

5.2.4 Transmission of SLPP Request Assistance Data 16

5.2.5 Reception of SLPP Request Assistance Data 16

5.2.6 Reception of SLPP Provide Assistance Data 16

5.3 Procedures related to Location Information Transfer 17

5.3.1 General 17

5.3.2 Location Information Transfer procedure 17

5.3.3 Location Information Delivery procedure 17

5.3.4 Transmission of Request Location Information 18

5.3.5 Reception of Request Location Information 18

5.3.6 Transmission of Provide Location Information 18

5.4 Error Handling Procedures 19

5.4.1 General 19

5.4.2 Procedures related to Error Indication 19

5.4.3 SLPP Error Detection 19

5.4.4 Reception of an SLPP Error Message 20

5.5 Abort Procedure 20

5.5.1 General 20

5.5.2 Procedures related to Abort 20

5.5.3 Reception of an SLPP Abort Message 20

6 Protocol data units, formats and parameters (ASN.1) 21

6.1 General 21

6.2 SLPP messages 21

6.2.1 General message structure 21

*--* *SLPP-PDU-Definitions* 21

*--* *SLPP-Message* 23

*--* *SLPP-MessageBody* 24

6.2.2 Message body information elements definitions 25

-- *RequestCapabilities* 25

-- *ProvideCapabilities* 25

-- *RequestAssistanceData* 26

-- *ProvideAssistanceData* 26

-- *RequestLocationInformation* 27

-- *ProvideLocationInformation* 28

*--* *Abort* 28

*--* *Error* 29

6.3 SLPP information elements 29

6.3.1 Common information elements 29

*--* *ARFCN-ValueNR* 29

*--* *CommonIEsAbort* 30

-- *CommonIEsError* 30

*--* *GNSS-ID-Bitmap* 31

-- *LCS-GCS-Translation* 31

-- *LOS-NLOS-Indicator* 31

*--* *NCGI* 32

*--* *NR-PhysCellID* 32

-- *PositioningModes* 33

-- *SL-RTD-Info* 33

-- *SL-TimeStamp* 34

-- *SL-TimingQuality* 35

6.3.2 UE capability information elements 35

6.3.3 Void 36

6.4 Multiplicity and type constraint values 36

*--* *Multiplicity and type constraint definitions* 36

*--* *End of SLPP-PDU-Definitions* 36

6.5 SLPP PDU Common Contents 36

*--* *SLPP-PDU-CommonContents* 36

*--* *CommonIEsRequestCapabilities* 37

*--* *CommonIEsProvideCapabilities* 37

*--* *CommonIEsRequestAssistanceData* 37

*--* *CommonIEsProvideAssistanceData* 38

*--* *CommonIEsRequestLocationInformation* 38

*--* *CommonIEsProvideLocationInformation* 43

*--* *End of SLPP-PDU-CommonContents* 50

6.6 SLPP PDU Common SL-PRS Methods Contents 51

*--* *SLPP-PDU-CommonSL-PRS-MethodsContents* 51

*--* *CommonSL-PRS-MethodsIEsRequestCapabilities* 51

*--* *CommonSL-PRS-MethodsIEsProvideCapabilities* 52

*--* *CommonSL-PRS-MethodsIEsRequestAssistanceData* 56

*--* *CommonSL-PRS-MethodsIEsProvideAssistanceData* 56

*--* *CommonSL-PRS-MethodsIEsRequestLocationInformation* 59

*--* *CommonSL-PRS-MethodsIEsProvideLocationInformation* 60

*--* *End of SLPP-PDU-CommonSL-PRS-MethodsContents* 60

6.7 SLPP PDU SL-AoA Contents 60

*--* *SLPP-PDU-SL-AoA-Contents* 60

*--* *SL-AoA-RequestCapabilities* 61

*--* *SL-AoA-ProvideCapabilities* 61

*--* *SL-AoA-RequestAssistanceData* 63

*--* *SL-AoA-ProvideAssistanceData* 64

*--* *SL-AoA-RequestLocationInformation* 65

*--* *SL-AoA-ProvideLocationInformation* 66

*--* *End of SLPP-PDU-SL-AoA-Contents* 68

6.8 SLPP PDU SL-RTT Contents 68

*--* *SLPP-PDU-SL-RTT-Contents* 68

*--* *SL-RTT-RequestCapabilities* 69

*--* *SL-RTT-ProvideCapabilities* 69

*--* *SL-RTT-RequestAssistanceData* 72

*--* *SL-RTT-ProvideAssistanceData* 72

*--* *SL-RTT-RequestLocationInformation* 72

*--* *SL-RTT-ProvideLocationInformation* 73

*--* *End of SLPP-PDU-SL-RTT-Contents* 75

6.9 SLPP PDU SL-TDOA Contents 76

*--* *SLPP-PDU-SL-TDOA-Contents* 76

*--* *SL-TDOA-RequestCapabilities* 76

*--* *SL-TDOA-ProvideCapabilities* 77

*--* *SL-TDOA-RequestAssistanceData* 78

*--* *SL-TDOA-ProvideAssistanceData* 79

*--* *SL-TDOA-RequestLocationInformation* 79

*--* *SL-TDOA-ProvideLocationInformation* 80

*--* *End of SLPP-PDU-SL-TDOA-Contents* 82

6.10 SLPP PDU SL-TOA Contents 83

*--* *SLPP-PDU-SL-TOA-Contents* 83

*--* *SL-TOA-RequestCapabilities* 83

*--* *SL-TOA-ProvideCapabilities* 84

*--* *SL-TOA-RequestAssistanceData* 85

*--* *SL-TOA-ProvideAssistanceData* 86

*--* *SL-TOA-RequestLocationInformation* 86

*--* *SL-TOA-ProvideLocationInformation* 87

*--* *End of SLPP-PDU-SL-TOA-Contents* 89

6.11 Information elements related to Discovery Message 89

*--* *NR-DiscoveryMessageMetaDataContents* 89

*--* *RSPP-Metadata* 90

*--* *End of NR-DiscoveryMessageMetaDataContents* 90

Annex A (informative): Change history 92

Foreword
========

This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).

The contents of the present document are subject to continuing work
within the TSG and may change following formal TSG approval. Should the
TSG modify the contents of the present document, it will be re-released
by the TSG with an identifying change of release date and an increase in
version number as follows:

Version x.y.z

where:

x the first digit:

1 presented to TSG for information;

2 presented to TSG for approval;

3 or greater indicates TSG approved document under change control.

y the second digit is incremented for all changes of substance, i.e.
technical enhancements, corrections, updates, etc.

z the third digit is incremented when editorial only changes have been
incorporated in the document.

 1 Scope
=======

The present document specifies the Sidelink Positioning Protocol (SLPP)
for the interface between UEs and between UE and LMF.

2 References
============

The following documents contain provisions which, through reference in
this text, constitute provisions of the present document.

\- References are either specific (identified by date of publication,
edition number, version number, etc.) or non‑specific.

\- For a specific reference, subsequent revisions do not apply.

\- For a non-specific reference, the latest version applies. In the case
of a reference to a 3GPP document (including a GSM document), a
non-specific reference implicitly refers to the latest version of that
document *in the same Release as the present document*.

\[1\] 3GPP TR 21.905: \"Vocabulary for 3GPP Specifications\".

\[2\] 3GPP TS 38.331: \"NR; Radio Resource Control (RRC); Protocol
specification\".

\[3\] 3GPP TS 38.305: \"NG Radio Access Network (NG-RAN); Stage 2
functional specification of User Equipment (UE) positioning in NG-RAN\".

\[4\] ITU-T Recommendation X.691 (07/2002) \"Information technology -
ASN.1 encoding rules: Specification of Packed Encoding Rules (PER)\"
(Same as the ISO/IEC International Standard 8825-2).

\[5\] 3GPP TS 23.273: \"5G System (5GS) Location Services (LCS); Stage
2\".

\[6\] 3GPP TS 38.211: \"3rd Generation Partnership Project; Technical
Specification Group Radio Access Network; NR; Physical channels and
modulation\".

\[7\] 3GPP TS 23.032: \"Universal Geographical Area Description (GAD)\".

\[8\] 3GPP TR 38.901: \"Technical Specification Group Radio Access
Network; Study on channel model for frequencies from 0.5 to 100 GHz\".

\[9\] 3GPP TS 23.287: \"Architecture enhancements for 5G System (5GS) to
support Vehicle-to-Everything (V2X) services\".

\[10\] 3GPP TS 38.101-2: \"NR; User Equipment (UE) radio transmission
and reception; Part 2: Range 2 Standalone\".

\[11\] 3GPP TS 38.101-1: \"NR; User Equipment (UE) radio transmission
and reception; Part 1: Range 1 Standalone\".

\[12\] 3GPP TS 23.586: \"Technical Specification Group Services and
System Aspects; Architectural Enhancements to support Ranging based
services and Sidelink Positioning\".

\[13\] 3GPP TS 38.133: \"NR; Requirements for support of radio resource
management\".

\[14\] 3GPP TS 23.304: \"Technical Specification Group Services and
System Aspects; Proximity based Services (ProSe) in the 5G System
(5GS)\".

\[15\] 3GPP TS 38.321: \"NR; Medium Access Control (MAC); Protocol
specification\".

\[16\] 3GPP TS 38.215: \"NR; Physical layer measurements\".

3 Definitions of terms, symbols and abbreviations
=================================================

3.1 Terms
---------

For the purposes of the present document, the terms given in
TR 21.905 \[1\] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any,
in TR 21.905 \[1\].

**Field:** The individual contents of an information element are
referred to as fields.

**Ranging**: Refers to the determination of the distance between two UEs
or more UEs and/or the direction of one UE (i.e. Target UE) from another
UE via PC5 interface.

**Ranging/Sidelink Positioning**: AS functionality enabling
ranging-based services and sidelink positioning as specified in TS
23.586 \[12\].

**SL Anchor UE**: A UE, supporting positioning of target UE, e.g. by
transmitting and/or receiving reference signals for positioning,
providing positioning-related information, etc. over the Sidelink
interface.

**SL Server UE:** A UE offering position method determination,
assistance data distribution and/or location calculation functionalities
for sidelink positioning and ranging based services. It interacts with
other UEs over PC5 as necessary in order to determine a ranging/SL
position method, distribute assistance data and calculate the location
of the target UE. A Target UE or SL Anchor UE can act as SL Server UE if
any of the functionalities is supported.

**SL Target UE**: A UE whose distance, direction and/or position is
measured with the support from one or multiple SL Anchor UEs using
Sidelink in the Ranging based service and Sidelink positioning.

**UE-only Operation**: Operation of Ranging/Sidelink Positioning in
which the service request handling and result calculation are performed
by UE.

3.2 Abbreviations
-----------------

For the purposes of the present document, the abbreviations given in
TR 21.905 \[1\] and the following apply. An abbreviation defined in the
present document takes precedence over the definition of the same
abbreviation, if any, in TR 21.905 \[1\].

DFN Direct Frame Number

GCS Global Coordinate System (as defined in TR 38.901 \[8\])

LCS LoCation Services

Local Coordinate System (as defined in TR 38.901 \[8\])

LMF Location Management Function

LOS Line-of-Sight

NLOS Non-Line-of-Sight

RTD Relative Time Difference

SL Sidelink

SL-AoA Sidelink Angle-of-Arrival

SL-MO-LR Sidelink Mobile Originating Location Request

SL-MT-LR Sidelink Mobile Terminating Location Request

SLPP Sidelink Positioning Protocol

SL-PRS Sidelink Positioning Reference Signals

SL-PRS-RSRP Sidelink Positioning Reference Signals based Reference
Signal Received Power

SL-PRS-RSRPP Sidelink Positioning Reference Signals based Reference
Signal Received Path Power

SL-PRS-RSTD Sidelink Positioning Reference Signals based Reference
Signal Time Difference

SL-PRS-RTOA Sidelink Positioning Reference Signals based Relative Time
of Arrival

SL-RTT Sidelink Round Trip Time

SL-TDOA Sidelink Time Difference Of Arrival

SL-TOA Sidelink Time Of Arrival

UE User Equipment

4 Functionality of Protocol
===========================

4.1 General
-----------

### 4.1.1 SLPP Configuration

SLPP is used point-to-point between Endpoints, e.g. Location Server (SL
Server UE or LMF) and target in order to obtain absolute position,
relative position, or ranging information of target UE using sidelink
measurements obtained by one or more reference sources.

Figure 4.1.1-1: Void

### 4.1.2 SLPP Sessions and Transactions

An SLPP session is used between UEs or a Location Server and a UE in
order to obtain location related measurements based on NR PC5 radio
signals, a location estimate or to transfer assistance data. A single
SLPP session is used to support a single location request (e.g., for a
single SL-MT-LR, or SL-MO-LR). Multiple SLPP sessions can be used
between the same endpoints to support multiple location requests (as
required by TS 23.273 \[5\]). For UE-only Operation, the instigator of
an SLPP session which is the Endpoint who receives the LCS request,
initiates an SLPP session by sending an SLPP message containing an
assigned session ID (session identifier) to the other endpoint(s). All
constituent messages within a session shall contain the same session ID.
For LMF involved Operation, the session ID is assigned by target UE and
contained in the SLPP messages used for communication between UEs. The
session ID may be included in the SLPP message for the communication
between a UE and the LMF.

Each SLPP session comprises one or more SLPP transactions, with each
SLPP transaction performing a single operation (capability exchange,
assistance data transfer, or location information transfer). The SLPP
transactions are realized as SLPP procedures. The instigator of an SLPP
session will always instigate the first SLPP transaction, but subsequent
transactions may be instigated by either end. SLPP transactions within a
session may occur serially or in parallel. SLPP transactions are
indicated at the SLPP protocol level with a transaction ID in order to
associate messages with one another (e.g., request and response).

Messages within a transaction are linked by a common transaction
identifier.

### 4.1.3 SLPP Positioning Methods

This version of the specification defines SL-TDOA, SL-TOA, SL-AoA and
SL-RTT positioning methods based on NR PC5 radio signals.

### 4.1.4 SLPP Messages

Each SLPP transaction involves the exchange of one or more SLPP messages
between Endpoint A and Endpoint B. The general format of an SLPP message
consists of a set of common fields followed by a body. The body (which
may be empty) contains information specific to a particular message
type. Each message type contains information specific to one or more
positioning methods and/or information common to all positioning
methods.

The common fields are as follows:

  Field                  Role
  ---------------------- --------------------------------------------------------------------------------
  ***sessionID***        Identify messages belonging to the same session
  *transactionID*        Identify messages belonging to the same transaction
  *endTransaction*       Indicate when a transaction (e.g. one with periodic responses) has ended
  ***sequenceNumber***   **Enable detection of a duplicate SLPP message at a receiver**
  *acknowledgement*      Enable an acknowledgement to be requested and/or returned for any SLPP message

The following message types are defined:

\- Request Capabilities;

\- Provide Capabilities;

\- Request Assistance Data;

\- Provide Assistance Data;

\- Request Location Information;

\- Provide Location Information;

\- Abort;

\- Error.

4.2 Common SLPP Session Procedure
---------------------------------

The purpose of this procedure is to support an SLPP session comprising a
sequence of SLPP transactions. The procedure is described in Figure
4.2-1.

Figure 4.2-1 SLPP Session Procedure

1\. Endpoint A, which is the Endpoint who receives the LCS request,
initiates an SLPP session by sending an SLPP message containing an
assigned session ID for an initial SLPP transaction *j* to the other
endpoint B.

2\. Endpoints A and B may exchange further messages to continue the
transaction started in step 1.

3\. Either endpoint may instigate further transactions by sending
additional SLPP messages.

4\. A session is terminated by a final transaction *N* in which SLPP
messages will be exchanged between the two endpoints.

Within the same session, all constituent messages shall contain the same
session ID and within each transaction, all constituent messages shall
contain the same transaction ID. The last message sent in each
transaction shall have the field *endTransaction* set to TRUE.
Transactions that occur in parallel shall use different transaction IDs;
transaction IDs for completed transactions may be reused at any time
after the final message of the previous transaction with the same ID is
known to have been received.

4.3 SLPP Transport
------------------

### 4.3.1 Transport Layer Requirements

SLPP requires reliable, in-sequence delivery of SLPP messages from the
underlying transport layers. This clause describes the transport
capabilities that are available within SLPP. A UE implementing SLPP
shall support SLPP reliable transport (including all three of duplicate
detection, acknowledgement, and retransmission).

### 4.3.2 SLPP Duplicate Detection

A sender shall include a sequence number in all SLPP messages sent for a
particular location session. The sequence number shall be distinct for
different SLPP messages sent by the same endpoint for the same endpoint
in the same location session (e.g., may start at zero in the first SLPP
message and increase monotonically in each succeeding SLPP message).
Sequence numbers used in the messages transmitted from different
endpoints or for different endpoints are independent (e.g., can be the
same).

A receiver shall record the most recent received sequence number for
each pair of endpoints of each location session. If a message is
received carrying the same sequence number as that last received for the
same pair of endpoints and the associated location session, it shall be
discarded. Otherwise (i.e., if the sequence number is different or the
sequence number is same but for different pair of endpoints), the
message shall be processed.

Sending and receiving sequence numbers shall be deleted in a server when
the associated location session is terminated and shall be deleted in
the UE(s) when there has been no activity for a particular location
session for 10 minutes.

### 4.3.3 SLPP Acknowledgement

#### 4.3.3.1 General {#general-1 .list-paragraph}

Each SLPP message may carry an acknowledgement request and/or an
acknowledgement indicator. An SLPP message including an acknowledgement
request (i.e., that include the field *ackRequested* set to TRUE) shall
also include a sequence number. Upon reception of an SLPP message which
includes the field *ackRequested* set to TRUE, a receiver returns an
SLPP message with an acknowledgement response (i.e., that includes the
field *ackIndicator* set to the same sequence number of the message
being acknowledged). An acknowledgement response may contain no SLPP
message body (in which case only the sequence number being acknowledged
is significant); alternatively, the acknowledgement may be sent in an
SLPP message along with an SLPP message body. An acknowledgement is
returned for each received SLPP message that requested an
acknowledgement including any duplicate(s). Once a sender receives an
acknowledgement for an SLPP message, and provided any included sequence
number is matching, it is permitted to send the next SLPP message. No
message reordering is needed at the receiver since this stop-and-wait
method of sending ensures that messages normally arrive in the correct
order.

When an SLPP message is transported via a NAS SL-MO-LR request, the
message does not request an acknowledgement.

#### 4.3.3.2 Procedure related to Acknowledgement {#procedure-related-to-acknowledgement .list-paragraph}

Figure 4.3.3.2-1 shows the procedure related to acknowledgement.

Figure 4.3.3.2-1: SLPP Acknowledgement procedure

1\. Endpoint A sends an SLPP message *N* to Endpoint B which includes
the field *ackRequested* set to TRUE and a sequence number.

2\. If SLPP message *N* is received and Endpoint B is able to decode the
*ackRequested* value and sequence number, Endpoint B shall return an
acknowledgement for message *N*. The acknowledgement shall contain the
field *ackIndicator* set to the same sequence number as that in message
*N*.

3\. When the acknowledgement for SLPP message *N* is received and
provided the included field *ackIndicator* matches the sequence number
sent in message *N*, Endpoint A sends the next SLPP message *N+1* to
Endpoint B when this message is available.

### 4.3.4 SLPP Retransmission

#### 4.3.4.1 General {#general-2 .list-paragraph}

This capability builds on the acknowledgement and duplicate detection
capabilities. When an SLPP message which requires acknowledgement is
sent and not acknowledged, it is resent by the sender following a
timeout period up to three times. If still unacknowledged after that,
the sender aborts all SLPP activity for this Endpoint. The timeout
period is determined by the sender implementation but shall not be less
than a minimum value of 250 ms.

#### 4.3.4.2 Procedure related to Retransmission

Figure 4.3.4.2-1 shows the procedure related to retransmission when
combined with acknowledgement and duplicate detection.

Figure 4.3.4.2-1: SLPP Retransmission procedure

1\. Endpoint A sends an SLPP message *N* to Endpoint B for a particular
location session and includes a request for acknowledgement along with a
sequence number.

2\. If SLPP message *N* is received and Endpoint B is able to decode the
*ackRequested* value and sequence number (regardless of whether the
message body can be correctly decoded), Endpoint B shall return an
acknowledgement for message *N*. If the acknowledgement is received by
Endpoint A (such that the acknowledged message can be identified and
sequence numbers are matching), Endpoint A skips steps 3 and 4.

3\. If the acknowledgement in step 2 is not received after a timeout
period, Endpoint A shall retransmit SLPP message *N* and shall include
the same sequence number as in step 1.

4\. If SLPP message *N* in step 3 is received and Endpoint B is able to
decode the *ackRequested* value and sequence number (regardless of
whether the message body can be correctly decoded and whether or not the
message is considered a duplicate), Endpoint B shall return an
acknowledgement. Steps 3 may be repeated one or more times if the
acknowledgement in step 4 is not received after a timeout period by
Endpoint A. If the acknowledgement in step 4 is still not received after
sending three retransmissions, Endpoint A shall abort all procedures and
activity associated with SLPP support for this Endpoint B.

5\. Once an acknowledgement in step 2 or step 4 is received, Endpoint A
sends the next SLPP message *N+1* for the location session to Endpoint B
when this message is available.

5 SLPP Procedures
=================

5.1 Procedures related to capability transfer
---------------------------------------------

### 5.1.1 General

The purpose of the procedures that are grouped together in this clause
is to enable the transfer of capabilities from Endpoint A to Endpoint B.
Capabilities in this context refer to positioning and protocol
capabilities related to SLPP and the positioning methods supported by
SLPP. These procedures instantiate the Capability Transfer procedure
from TS 38.305 \[3\].

### 5.1.2 Capability Transfer procedure

The Capability Transfer procedure is shown in Figure 5.1.2-1.

Figure 5.1.2-1: SLPP Capability Transfer procedure

1\. Endpoint B sends a *RequestCapabilities* message to Endpoint A.
Endpoint B may indicate the types of capability requested.

2\. Endpoint A responds with a *ProvideCapabilities* message to Endpoint
B. The capabilities shall correspond to the capability types specified
in step 1. This message shall include the field *endTransaction* set to
TRUE.

### 5.1.3 Capability Indication procedure

The Capability Indication procedure allows the Endpoint A to provide
unsolicited capabilities to the Endpoint B and is shown in Figure
5.1.3-1.

Figure 5.1.3-1: SLPP Capability Indication procedure

1\. Endpoint A sends a *ProvideCapabilities* message to Endpoint B. This
message shall include the field *endTransaction* set to TRUE.

### 5.1.4 Transmission of SLPP Request Capabilities

When triggered to transmit a *RequestCapabilities* message, Endpoint B
shall:

1\> set the positioning method specific *RequestCapabilities* PDUs in
accordance with the information received from upper layers.

1\> deliver the message to lower layers for transmission.

### 5.1.5 Reception of SLPP Request Capabilities

Upon receiving a *RequestCapabilities* message, Endpoint A shall
generate a *ProvideCapabilities* message as a response.

Endpoint A shall:

1\> for each positioning method for which a request for capabilities is
included in the message:

2\> if Endpoint A supports this positioning method:

3\> include the capabilities of Endpoint A for that supported
positioning method in the response message;

1\> set the field *sessionID* in the response message to the same value
as the field *sessionID* in the received message if received;

1\> set the field *transactionID* in the response message to the same
value as the field *transactionID* in the received message;

1\> deliver the response message to lower layers for transmission.

### 5.1.6 Transmission of SLPP Provide Capabilities

When triggered to transmit a *ProvideCapabilities* message, Endpoint A
shall:

1\> for each positioning method whose capabilities are to be indicated:

2\> set the corresponding fields to include Endpoint A\'s capabilities;

1\> deliver the response to lower layers for transmission.

5.2 Procedures related to Assistance Data Transfer
--------------------------------------------------

### 5.2.1 General

The purpose of the procedures that are grouped together in this clause
is to enable Endpoint A to request assistance data from Endpoint B to
assist in positioning, and to enable Endpoint B to transfer assistance
data to Endpoint A without a request. These procedures instantiate the
Assistance Data Transfer procedure from TS 38.305 \[3\].

### 5.2.2 Assistance Data Transfer procedure

The Assistance Data Transfer procedure is shown in Figure 5.2.2-1.

Figure 5.2.2-1: SLPP Assistance data transfer procedure

1\. Endpoint A sends a *RequestAssistanceData* message to Endpoint B.

2\. Endpoint B responds with a *ProvideAssistanceData* message to
Endpoint A containing assistance data. The transferred assistance data
should match or be a subset of the assistance data requested in step 1.
Endpoint B may also provide any not requested information that it
considers useful to Endpoint A. If step 3 is not expected, this message
shall set the field *endTransaction* to TRUE.

3\. Endpoint B may transmit one or more additional
*ProvideAssistanceData* messages to Endpoint A containing further
assistance data. The transferred assistance data should match or be a
subset of the assistance data requested in step 1. Endpoint B may also
provide any not requested information that it considers useful to
Endpoint A. The last message shall include the field *endTransaction*
set to TRUE.

### 5.2.3 Assistance Data Delivery procedure

The Assistance Data Delivery procedure allows Endpoint B to provide
unsolicited assistance data to Endpoint A and is shown in Figure
5.2.3-1.

Figure 5.2.3-1: SLPP Assistance data transfer procedure

1\. Endpoint B sends a *ProvideAssistanceData* message to Endpoint A
containing assistance data. If step 2 is not expected, this message
shall set the field *endTransaction* to TRUE.

2\. Endpoint B may transmit one or more additional
*ProvideAssistanceData* messages to Endpoint A containing additional
assistance data. The last message shall include the field
*endTransaction* set to TRUE.

### 5.2.4 Transmission of SLPP Request Assistance Data

When triggered to transmit a *RequestAssistanceData* message, Endpoint A
shall:

1\> set the positioning method specific *RequestAssistanceData* PDUs in
accordance with the information received from upper layers.

1\> deliver the message to lower layers for transmission.

### 5.2.5 Reception of SLPP Request Assistance Data

Upon receiving a *RequestAssistanceData* message, Endpoint B shall
generate a *ProvideAssistanceData* message as a response.

Endpoint B shall:

1\> for each positioning method for which a request for assistance data
is included in the message:

2\> if Endpoint B supports this positioning method:

3\> include the assistance data for that supported positioning method in
the response message;

1\> set the field *sessionID* in the response message to the same value
as the field *sessionID* in the received message if received;

1\> set the field *transactionID* in the response message to the same
value as the field *transactionID* in the received message;

1\> deliver the response message to lower layers for transmission.

### 5.2.6 Reception of SLPP Provide Assistance Data

Upon receiving a *ProvideAssistanceData* message, Endpoint A shall:

1\> for each positioning method contained in the message:

2\> deliver the related assistance data to upper layers.

5.3 Procedures related to Location Information Transfer
-------------------------------------------------------

### 5.3.1 General

The purpose of the procedures that are grouped together in this clause
is to enable Endpoint B to request location measurement data and/or a
location estimate from Endpoint A, and to enable Endpoint A to transfer
location measurement data and/or a location estimate to Endpoint B
without a request. These procedures instantiate the Location Information
Transfer procedure from TS 38.305 \[3\].

### 5.3.2 Location Information Transfer procedure

The Location Information Transfer procedure is shown in Figure 5.3.2-1.

Figure 5.3.2-1: SLPP Location Information transfer procedure

1\. Endpoint B sends a *RequestLocationInformation* message to Endpoint
A to request location information, indicating the type of location
information requested and optionally the associated QoS.

2\. Endpoint A sends a *ProvideLocationInformation* message to Endpoint
B to transfer location information. The location information transferred
should match or be a subset of the location information requested in
step 1 unless Endpoint B explicitly allows additional location
information. If step 3 is not expected, this message shall set the field
*endTransaction* to TRUE.

3\. If requested in step 1, Endpoint A sends additional
*ProvideLocationInformation* messages to Endpoint B to transfer location
information. The location information transferred should match or be a
subset of the location information requested in step 1 unless Endpoint B
explicitly allows additional location information. The last message
shall include the field *endTransaction* set to TRUE.

### 5.3.3 Location Information Delivery procedure

The Location Information Delivery procedure allows Endpoint A to provide
unsolicited location information to Endpoint B. The procedure is shown
in Figure 5.3.3-1.

Figure 5.3.3-1: SLPP Location Information Delivery procedure

1\. Endpoint A sends a *ProvideLocationInformation* message to Endpoint
B to transfer location information. If step 2 is not expected, this
message shall set the field *endTransaction* to TRUE.

2\. Endpoint A may send one or more additional
*ProvideLocationInformation* messages to Endpoint B containing
additional location information data. The last message shall include the
field *endTransaction* set to TRUE.

### 5.3.4 Transmission of Request Location Information

When triggered to transmit a *RequestLocationInformation* message,
Endpoint B shall:

1\> set the positioning method specific *RequestLocationInformation*
PDUs in accordance with the information received from upper layers.

1\> deliver the message to lower layers for transmission.

### 5.3.5 Reception of Request Location Information

Upon receiving a *RequestLocationInformation* message, Endpoint A shall:

1\> if the requested information is compatible with Endpoint A\'s
capabilities and configuration:

2\> include the requested information in a *ProvideLocationInformation*
message;

2\> set the field *sessionID* in the response message to the same value
as the field *sessionID* in the received message if received;

2\> set the field *transactionID* in the response to the same value as
the field *transactionID* in the received message;

2\> deliver the *ProvideLocationInformation* message to lower layers for
transmission.

1\> else if one or more positioning methods are included that Endpoint A
does not support:

2\> continue to process the message as if it contained only information
for the supported positioning methods;

2\> handle the signaling content of the unsupported positioning methods
by SLPP error detection as in 5.4.3.

### 5.3.6 Transmission of Provide Location Information

When triggered to transmit a *ProvideLocationInformation* message,
Endpoint A shall:

1\> for each positioning method contained in the message:

2\> set the corresponding fields to include the available location
information;

1\> deliver the response to lower layers for transmission.

5.4 Error Handling Procedures
-----------------------------

### 5.4.1 General

This clause describes how a receiving endpoint behaves in cases when it
receives erroneous or unexpected data or detects that certain data are
missing.

### 5.4.2 Procedures related to Error Indication

Figure 5.4.2-1 shows the Error indication procedure.

Figure 5.4.2-1: SLPP Error Indication procedure

1\. Endpoint A sends an SLPP message to Endpoint B.

2\. Endpoint B determines that the SLPP message in step 1 contains an
error. Endpoint B returns an *Error* message to Endpoint A indicating
the error or errors and discards the message in step 1. If Endpoint B is
able to determine that the erroneous SLPP message in step 1 is an SLPP
Error or Abort Message, Endpoint B discards the message in step 1
without returning an *Error* message to Endpoint A.

### 5.4.3 SLPP Error Detection

Upon receiving any SLPP message, the receiving endpoint shall attempt to
decode the message and verify the presence of any errors and:

1\> if decoding errors are encountered:

2\> if the receiver cannot determine that the received message is an
SLPP *Error* or *Abort* message:

3\> return an SLPP *Error* message to the sender and include the field
*sessionID* (if PC5-U is used as transport layer) and the received
*transactionID*, if they were decoded, and type of error;

3\> discard the received message and stop the error detection procedure;

1\> if the message is a duplicate of a previously received message:

2\> discard the message and stop the error detection procedure;

1\> if the field *transactionID* matches the field *transactionID* for a
procedure that is still ongoing for the same session and the message
type is invalid for the current state of the procedure:

2\> abort the ongoing procedure;

2\> return an SLPP *Error* message to the sender and include the field
*sessionID* (if PC5-U is used as transport layer), the received field
*transactionID* and type of error;

2\> discard the message and stop the error detection procedure;

1\> if the message type is an SLPP *RequestCapabilities* and some of the
requested information is not supported:

2\> return any information that can be provided in a normal response.

1\> if the message type is an SLPP *RequestAssistanceData* or
*RequestLocationInformation* and some or all of the requested
information is not supported:

2\> return any information that can be provided in a normal response,
which includes indications on other information that is not supported.

### 5.4.4 Reception of an SLPP Error Message

Upon receiving an *Error* message, Endpoint A shall:

1\> abort any ongoing procedure associated with the field *sessionID*
and the field *transactionID* if included in the received message.

Endpoint A may:

1\> restart the aborted procedure taking into consideration the returned
error information.

5.5 Abort Procedure
-------------------

### 5.5.1 General

The purpose of the abort procedure is to allow Endpoints to abort an
ongoing procedure due to some unexpected event (e.g., cancellation of a
location request by an LCS client). It can also be used to stop an
ongoing procedure (e.g., periodic location reporting from an Endpoint).

### 5.5.2 Procedures related to Abort

Figure 5.5.2-1 shows the Abort procedure.

Figure 5.5.2-1: SLPP Abort procedure

1\. A procedure P is ongoing between endpoints A and B.

2\. Endpoint A determines that the procedure must be aborted and sends
an *Abort* message to Endpoint B carrying the field *sessionID* (if
PC5-U is used as transport layer) and the field *transactionID* for
procedure P. Endpoint B aborts procedure P.

### 5.5.3 Reception of an SLPP Abort Message

Upon receiving an *Abort* message, Endpoint shall:

1\> abort any ongoing procedure associated with the field *sessionID*
and the field *transactionID* indicated in the message.

6 Protocol data units, formats and parameters (ASN.1)
=====================================================

6.1 General
-----------

The contents of each SLPP message is specified in clause 6.2 using ASN.1
to specify the message syntax and using tables when needed to provide
further detailed information about the fields specified in the message
syntax. The syntax of the information elements that are defined as
stand-alone abstract types is further specified in a similar manner in
clause 6.3.

The ASN.1 in this clause uses the same format and coding conventions as
described in Annex A of TS 38.331 \[2\].

Transfer syntax for SLPP messages is derived from their ASN.1
definitions by use of Basic Packed Encoding Rules (BASIC-PER), Unaligned
Variant, as specified in ITU-T Rec. X.691 \[4\]. The encoded SLPP
message always contains a multiple of 8 bits.

Transfer syntax for SLPP IEs is derived from their ASN.1 definitions by
use of Basic Packed Encoding Rules (BASIC-PER), Unaligned Variant, as
specified in ITU-T Rec. X.691 \[4\]. The encoded SLPP IE always contains
a multiple of 8 bits. This applies when a single SLPP IE is encoded as
the basic production, i.e. for other purposes than encoding the SLPP IE
within an SLPP message.

When specifying information elements which are to be represented by BIT
STRINGs, if not otherwise specifically stated in the field description
of the concerned IE or elsewhere, the following principle applies with
regards to the ordering of bits:

\- The first bit (leftmost bit) contains the most significant bit (MSB);

\- the last bit (rightmost bit) contains the least significant bit
(LSB).

6.2 SLPP messages
-----------------

### 6.2.1 General message structure

#### *-- SLPP-PDU-Definitions*

This ASN.1 segment is the start of the SLPP PDU definitions.

\-- ASN1START

\-- TAG-SLPP-PDU-DEFINITIONS-START

SLPP-PDU-Definitions DEFINITIONS AUTOMATIC TAGS ::=

BEGIN

IMPORTS

CommonIEsRequestCapabilities,

CommonIEsProvideCapabilities,

CommonIEsRequestAssistanceData,

CommonIEsProvideAssistanceData,

CommonIEsRequestLocationInformation,

CommonIEsProvideLocationInformation

FROM

SLPP-PDU-CommonContents

CommonSL-PRS-MethodsIEsRequestCapabilities,

CommonSL-PRS-MethodsIEsProvideCapabilities,

CommonSL-PRS-MethodsIEsRequestAssistanceData,

CommonSL-PRS-MethodsIEsProvideAssistanceData,

CommonSL-PRS-MethodsIEsRequestLocationInformation,

CommonSL-PRS-MethodsIEsProvideLocationInformation

FROM

SLPP-PDU-CommonSL-PRS-MethodsContents

SL-AoA-RequestCapabilities,

SL-AoA-ProvideCapabilities,

SL-AoA-RequestAssistanceData,

SL-AoA-ProvideAssistanceData,

SL-AoA-RequestLocationInformation,

SL-AoA-ProvideLocationInformation

FROM

SLPP-PDU-SL-AoA-Contents

SL-RTT-RequestCapabilities,

SL-RTT-ProvideCapabilities,

SL-RTT-RequestAssistanceData,

SL-RTT-ProvideAssistanceData,

SL-RTT-RequestLocationInformation,

SL-RTT-ProvideLocationInformation

FROM

SLPP-PDU-SL-RTT-Contents

SL-TDOA-RequestCapabilities,

SL-TDOA-ProvideCapabilities,

SL-TDOA-RequestAssistanceData,

SL-TDOA-ProvideAssistanceData,

SL-TDOA-RequestLocationInformation,

SL-TDOA-ProvideLocationInformation

FROM

SLPP-PDU-SL-TDOA-Contents

SL-TOA-RequestCapabilities,

SL-TOA-ProvideCapabilities,

SL-TOA-RequestAssistanceData,

SL-TOA-ProvideAssistanceData,

SL-TOA-RequestLocationInformation,

SL-TOA-ProvideLocationInformation

FROM

SLPP-PDU-SL-TOA-Contents;

\-- TAG-SLPP-PDU-DEFINITIONS-STOP

\-- ASN1STOP

NOTE 1: An implementation needs to include only the supported \"Method\"
PDUs. Not supported methods do not need to be included. For example, if
SL-RTT is not supported by an implementation, the
*SLPP-PDU-SL-RTT-Contents* PDU does not need to be included in the
protocol.

NOTE 2: An implementation supporting SL-RTT, SL-AoA, SL-TDOA, or SL-TOA
must also support the *SLPP-PDU-CommonSL-PRS-MethodsContents* PDU.

#### *-- SLPP-Message*

The *SLPP-Message* provides the complete set of information for an
invocation or response pertaining to an SLPP transaction.

\-- ASN1START

\-- TAG-SLPP-MESSAGE-START

SLPP-Message ::= SEQUENCE {

applicationLayerID OCTET STRING OPTIONAL,

transactionID INTEGER (0..255) OPTIONAL,

endTransaction BOOLEAN,

sequenceNumber SequenceNumber OPTIONAL,

sessionID SessionID OPTIONAL,

acknowledgement Acknowledgement OPTIONAL,

slpp-MessageBody SLPP-MessageBody OPTIONAL,

nonCriticalExtension SEQUENCE {} OPTIONAL

}

SequenceNumber ::= INTEGER (0..255)

SessionID ::= OCTET STRING (SIZE (6))

Acknowledgement ::= SEQUENCE {

ackRequested BOOLEAN,

ackIndicator SequenceNumber OPTIONAL

}

\-- TAG-SLPP-MESSAGE-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *SLPP-Message field descriptions*                                    |
+======================================================================+
| ***acknowledgement***                                                |
|                                                                      |
| This field is included in an SLPP acknowledgement and in any SLPP    |
| message requesting an acknowledgement and is omitted otherwise.      |
|                                                                      |
| \- ***ackRequested***: This field indicates whether an SLPP          |
| acknowledgement is requested (TRUE) or not (FALSE). A value of TRUE  |
| may only be included when an *slpp-MessageBody* is included.         |
|                                                                      |
| \- ***ackIndicator***: This field indicates the sequence number of   |
| the message being acknowledged.                                      |
+----------------------------------------------------------------------+
| ***applicationLayerID***                                             |
|                                                                      |
| **This field indicates the application layer ID of the UE which is   |
| sending the message**.                                               |
+----------------------------------------------------------------------+
| ***endTransaction***                                                 |
|                                                                      |
| This field indicates whether an SLPP message is the last message     |
| carrying an *slpp-MessageBody* in a transaction (TRUE) or not last   |
| (FALSE).                                                             |
+----------------------------------------------------------------------+
| ***sequenceNumber***                                                 |
|                                                                      |
| This field may be included when an s*lpp-MessageBody* is included    |
| but shall be omitted otherwise.                                      |
+----------------------------------------------------------------------+
| ***sessionID***                                                      |
|                                                                      |
| This field indicates the session ID which is used to identify        |
| messages belonging to the same session.                              |
+----------------------------------------------------------------------+
| ***slpp-MessageBody***                                               |
|                                                                      |
| This field may be omitted in the case the message is sent only to    |
| acknowledge a previously received message.                           |
+----------------------------------------------------------------------+
| ***transactionID***                                                  |
|                                                                      |
| This field is omitted if an s*lpp-MessageBody* is not present (i.e.  |
| in an SLPP message sent only to acknowledge a previously received    |
| message) or if it is not available to the transmitting endpoint      |
| (e.g., in an S*LPP-Error* message triggered by a message that could  |
| not be parsed). If present, this field shall be ignored at a         |
| receiver in an SLPP message for which the s*lpp-MessageBody* is not  |
| present.                                                             |
+----------------------------------------------------------------------+

#### *-- SLPP-MessageBody*

The *SLPP-MessageBody* identifies the type of an SLPP message and
contains all SLPP information specifically associated with that type.

\-- ASN1START

\-- TAG-SLPP-MESSAGEBODY-START

SLPP-MessageBody ::= CHOICE {

c1 CHOICE {

requestCapabilities RequestCapabilities,

provideCapabilities ProvideCapabilities,

requestAssistanceData RequestAssistanceData,

provideAssistanceData ProvideAssistanceData,

requestLocationInformation RequestLocationInformation,

provideLocationInformation ProvideLocationInformation,

abort Abort,

error Error,

spare8 NULL, spare7 NULL, spare6 NULL, spare5 NULL, spare4 NULL, spare3
NULL, spare2 NULL, spare1 NULL

},

messageClassExtension SEQUENCE {}

}

\-- TAG-SLPP-MESSAGEBODY-STOP

\-- ASN1STOP

### 6.2.2 Message body information elements definitions

#### -- *RequestCapabilities*

The *RequestCapabilities* message body in an SLPP message is used by
Endpoint B to request Endpoint A capability information for SLPP and the
supported individual positioning methods.

\-- ASN1START

\-- TAG-REQUESTCAPABILITIES-START

RequestCapabilities ::= SEQUENCE {

criticalExtensions CHOICE {

requestCapabilities RequestCapabilities-IEs,

criticalExtensionsFuture SEQUENCE {}

}

}

RequestCapabilities-IEs ::= SEQUENCE {

commonIEsRequestCapabilities OCTET STRING OPTIONAL, \-- Containing
CommonIEsRequestCapabilities

commonSL-PRS-MethodsIEsRequestCapabilities OCTET STRING OPTIONAL, \--
Containing CommonSL-PRS-MethodsIEsRequestCapabilities

sl-AoA-RequestCapabilities OCTET STRING OPTIONAL, \-- Containing
SL-AoA-RequestCapabilities

sl-RTT-RequestCapabilities OCTET STRING OPTIONAL, \-- Containing
SL-RTT-RequestCapabilities

sl-TDOA-RequestCapabilities OCTET STRING OPTIONAL, \-- Containing
SL-TDOA-RequestCapabilities

sl-TOA-RequestCapabilities OCTET STRING OPTIONAL, \-- Containing
SL-TOA-RequestCapabilities

lateNonCriticalExtension OCTET STRING OPTIONAL,

nonCriticalExtension SEQUENCE {} OPTIONAL

}

\-- TAG-REQUESTCAPABILITIES-STOP

\-- ASN1STOP

#### -- *ProvideCapabilities*

The *ProvideCapabilities* message body in an SLPP message indicates the
SLPP capabilities of Endpoint A to Endpoint B.

\-- ASN1START

\-- TAG-PROVIDECAPABILITIES-START

ProvideCapabilities ::= SEQUENCE {

criticalExtensions CHOICE {

provideCapabilities ProvideCapabilities-IEs,

criticalExtensionsFuture SEQUENCE {}

}

}

ProvideCapabilities-IEs ::= SEQUENCE {

commonIEsProvideCapabilities OCTET STRING OPTIONAL, \-- Containing
CommonIEsProvideCapabilities

commonSL-PRS-MethodsIEsProvideCapabilities OCTET STRING OPTIONAL, \--
Containing CommonSL-PRS-MethodsIEsProvideCapabilities

sl-AoA-ProvideCapabilities OCTET STRING OPTIONAL, \-- Containing
SL-AoA-ProvideCapabilities

sl-RTT-ProvideCapabilities OCTET STRING OPTIONAL, \-- Containing
SL-RTT-ProvideCapabilities

sl-TDOA-ProvideCapabilities OCTET STRING OPTIONAL, \-- Containing
SL-TDOA-ProvideCapabilities

sl-TOA-ProvideCapabilities OCTET STRING OPTIONAL, \-- Containing
SL-TOA-ProvideCapabilities

lateNonCriticalExtension OCTET STRING OPTIONAL,

nonCriticalExtension SEQUENCE {} OPTIONAL

}

\-- TAG-PROVIDECAPABILITIES-STOP

\-- ASN1STOP

#### -- *RequestAssistanceData*

The *RequestAssistanceData* message body in an SLPP message is used by
the Endpoint A to request assistance data from Endpoint B.

\-- ASN1START

\-- TAG-REQUESTASSISTANCEDATA-START

RequestAssistanceData ::= SEQUENCE {

criticalExtensions CHOICE {

requestAssistanceData RequestAssistanceData-IEs,

criticalExtensionsFuture SEQUENCE {}

}

}

RequestAssistanceData-IEs ::= SEQUENCE {

commonIEsRequestAssistanceData OCTET STRING OPTIONAL, \-- Containing
CommonIEsRequestAssistanceData

commonSL-PRS-MethodsIEsRequestAssistanceData OCTET STRING OPTIONAL, \--
Containing CommonSL-PRS-MethodsIEsRequestAssistanceData

sl-AoA-RequestAssistanceData OCTET STRING OPTIONAL, \-- Containing
SL-AoA-RequestAssistanceData

sl-RTT-RequestAssistanceData OCTET STRING OPTIONAL, \-- Containing
SL-RTT-RequestAssistanceData

sl-TDOA-RequestAssistanceData OCTET STRING OPTIONAL, \-- Containing
SL-TDOA-RequestAssistanceData

sl-TOA-RequestAssistanceData OCTET STRING OPTIONAL, \-- Containing
SL-TOA-RequestAssistanceData

lateNonCriticalExtension OCTET STRING OPTIONAL,

nonCriticalExtension SEQUENCE {} OPTIONAL

}

\-- TAG-REQUESTASSISTANCEDATA-STOP

\-- ASN1STOP

#### -- *ProvideAssistanceData*

The *ProvideAssistanceData* message body in an SLPP message is used by
Endpoint B to provide assistance data to Endpoint A either in response
to a request from Endpoint A or in an unsolicited manner. Upon receiving
an SLPP message *ProvideAsssistanceData*, the UE releases the value
received in previous SLPP message *ProvideAsssistanceData* if any.

\-- ASN1START

\-- TAG-PROVIDEASSISTANCEDATA-START

ProvideAssistanceData ::= SEQUENCE {

criticalExtensions CHOICE {

provideAssistanceData ProvideAssistanceData-IEs,

criticalExtensionsFuture SEQUENCE {}

}

}

ProvideAssistanceData-IEs ::= SEQUENCE {

commonIEsProvideAssistanceData OCTET STRING OPTIONAL, \-- Containing
CommonIEsProvideAssistanceData

commonSL-PRS-MethodsIEsProvideAssistanceData OCTET STRING OPTIONAL, \--
Containing CommonSL-PRS-MethodsIEsProvideAssistanceData

sl-AoA-ProvideAssistanceData OCTET STRING OPTIONAL, \-- Containing
SL-AoA-ProvideAssistanceData

sl-RTT-ProvideAssistanceData OCTET STRING OPTIONAL, \-- Containing
SL-RTT-ProvideAssistanceData

sl-TDOA-ProvideAssistanceData OCTET STRING OPTIONAL, \-- Containing
SL-TDOA-ProvideAssistanceData

sl-TOA-ProvideAssistanceData OCTET STRING OPTIONAL, \-- Containing
SL-TOA-ProvideAssistanceData

lateNonCriticalExtension OCTET STRING OPTIONAL,

nonCriticalExtension SEQUENCE {} OPTIONAL

}

\-- TAG-PROVIDEASSISTANCEDATA-STOP

\-- ASN1STOP

#### -- *RequestLocationInformation*

The *RequestLocationInformation* message body in an SLPP message is used
by Endpoint B to request positioning measurements or a position estimate
from Endpoint A.

\-- ASN1START

\-- TAG-REQUESTLOCATIONINFORMATION-START

RequestLocationInformation ::= SEQUENCE {

criticalExtensions CHOICE {

requestLocationInformation RequestLocationInformation-IEs,

criticalExtensionsFuture SEQUENCE {}

}

}

RequestLocationInformation-IEs ::= SEQUENCE {

commonIEsRequestLocationInformation OCTET STRING OPTIONAL, \--
Containing CommonIEsRequestLocationInformation

commonSL-PRS-MethodsIEsRequestLocationInformation OCTET STRING OPTIONAL,
\-- Containing CommonSL-PRS-MethodsIEsRequestLocationInformation

sl-AoA-RequestLocationInformation OCTET STRING OPTIONAL, \-- Containing
SL-AoA-RequestLocationInformation

sl-RTT-RequestLocationInformation OCTET STRING OPTIONAL, \-- Containing
SL-RTT-RequestLocationInformation

sl-TDOA-RequestLocationInformation OCTET STRING OPTIONAL, \-- Containing
SL-TDOA-RequestLocationInformation

sl-TOA-RequestLocationInformation OCTET STRING OPTIONAL, \-- Containing
SL-TOA-RequestLocationInformation

lateNonCriticalExtension OCTET STRING OPTIONAL,

nonCriticalExtension SEQUENCE {} OPTIONAL

}

\-- TAG-REQUESTLOCATIONINFORMATION-STOP

\-- ASN1STOP

#### -- *ProvideLocationInformation*

The *ProvideLocationInformation* message body in an SLPP message is used
by Endpoint A to provide positioning measurements or position estimates
to Endpoint B.

\-- ASN1START

\-- TAG-PROVIDELOCATIONINFORMATION-START

ProvideLocationInformation ::= SEQUENCE {

criticalExtensions CHOICE {

provideLocationInformation ProvideLocationInformation-IEs,

criticalExtensionsFuture SEQUENCE {}

}

}

ProvideLocationInformation-IEs ::= SEQUENCE {

commonIEsProvideLocationInformation OCTET STRING OPTIONAL, \--
Containing CommonIEsProvideLocationInformation

commonSL-PRS-MethodsIEsProvideLocationInformation OCTET STRING OPTIONAL,
\-- Containing CommonSL-PRS-MethodsIEsProvideLocationInformation

sl-AoA-ProvideLocationInformation OCTET STRING OPTIONAL, \-- Containing
SL-AoA-ProvideLocationInformation

sl-RTT-ProvideLocationInformation OCTET STRING OPTIONAL, \-- Containing
SL-RTT-ProvideLocationInformation

sl-TDOA-ProvideLocationInformation OCTET STRING OPTIONAL, \-- Containing
SL-TDOA-ProvideLocationInformation

sl-TOA-ProvideLocationInformation OCTET STRING OPTIONAL, \-- Containing
SL-TOA-ProvideLocationInformation

lateNonCriticalExtension OCTET STRING OPTIONAL,

nonCriticalExtension SEQUENCE {} OPTIONAL

}

\-- TAG-PROVIDELOCATIONINFORMATION-STOP

\-- ASN1STOP

#### *-- Abort*

The *Abort* message body in an SLPP message carries a request to abort
an ongoing SLPP procedure.

\-- ASN1START

\-- TAG-ABORT-START

Abort ::= SEQUENCE {

criticalExtensions CHOICE {

abort Abort-IEs,

criticalExtensionsFuture SEQUENCE {}

}

}

Abort-IEs ::= SEQUENCE {

commonIEsAbort CommonIEsAbort OPTIONAL,

lateNonCriticalExtension OCTET STRING OPTIONAL,

nonCriticalExtension SEQUENCE {} OPTIONAL

}

\-- TAG-ABORT-STOP

\-- ASN1STOP

#### *-- Error*

The *Error* message body in an SLPP message carries information
concerning an SLPP message that was received with errors.

\-- ASN1START

\-- TAG-ERROR-START

Error ::= CHOICE {

criticalExtensions CHOICE {

error Error-IEs,

criticalExtensionsFuture SEQUENCE {}

}

}

Error-IEs ::= SEQUENCE {

commonIEsError CommonIEsError OPTIONAL,

lateNonCriticalExtension OCTET STRING OPTIONAL,

nonCriticalExtension SEQUENCE {} OPTIONAL

}

\-- TAG-ERROR-STOP

\-- ASN1STOP

6.3 SLPP information elements
-----------------------------

### 6.3.1 Common information elements

#### *-- ARFCN-ValueNR*

The IE *ARFCN-ValueNR* is used to indicate the ARFCN applicable for a
downlink, uplink or bi-directional (TDD) NR global frequency raster, as
defined in TS 38.101-2 \[10\] and TS 38.101-1 \[11\].

\-- ASN1START

\-- TAG-ARFCN-VALUENR-START

ARFCN-ValueNR ::= INTEGER (0..3279165)

\-- TAG-ARFCN-VALUENR-STOP

\-- ASN1STOP

#### *-- CommonIEsAbort*

The IE *CommonIEsAbort* carries common IEs for an Abort SLPP message
Type.

\-- ASN1START

\-- TAG-COMMONIESABORT-START

CommonIEsAbort ::= SEQUENCE {

abortCause ENUMERATED { undefined, stopPeriodicReporting }

}

\-- TAG-COMMONIESABORT-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *CommonIEsAbort field descriptions*                                  |
+======================================================================+
| ***abortCause***                                                     |
|                                                                      |
| This field defines the request to abort an ongoing procedure. The    |
| abort cause \'*stopPeriodicReporting*\' is used by an endpoint to    |
| stop any ongoing location reporting configured as                    |
| *periodicalReporting* in the IE                                      |
| *CommonIEsRequestLocationInformation*.                               |
+----------------------------------------------------------------------+

#### -- *CommonIEsError*

The IE *CommonIEsError* carries common IEs for an Error SLPP message
Type.

\-- ASN1START

\-- TAG-COMMONIESERROR-START

CommonIEsError ::= SEQUENCE {

errorCause ENUMERATED { undefined, slppMessageHeaderError,
slppMessageBodyError, incorrectDataValue }

}

\-- TAG-COMMONIESERROR-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *CommonIEsError field descriptions*                                  |
+======================================================================+
| ***errorCause***                                                     |
|                                                                      |
| This field defines the cause for an error.                           |
| \'*slppMessageHeaderError*\' and \'*slppMessageBodyError*\' are used |
| if a receiver is able to detect a coding error in the SLPP header    |
| (i.e., in the common fields) or SLPP message body respectively.      |
| \'*incorrectDataValue*\' is used if a receiver receives an incorrect |
| data value.                                                          |
+----------------------------------------------------------------------+

#### *-- GNSS-ID-Bitmap*

The IE *GNSS-ID-Bitmap* is used to indicate several GNSSs using a bit
map.

\-- ASN1START

\-- TAG-GNSS-ID-BITMAP-START

GNSS-ID-Bitmap ::= BIT STRING { gps (0), sbas (1), qzss (2), galileo
(3), glonass (4), bds (5), navic (6) } (SIZE (1..16))

\-- TAG-GNSS-ID-BITMAP-STOP

\-- ASN1STOP

#### -- *LCS-GCS-Translation*

The IE *LCS-GCS-Translation* provides the ***angles α (bearing angle), β
(downtilt angle) and γ (slant angle) for the translation of a Local
Coordinate System (LCS) to a Global Coordinate System (GCS) as defined
in TR 38.901 \[8\].***

\-- ASN1START

\-- TAG-LCS-GCS-TRANSLATION-START

LCS-GCS-Translation ::= SEQUENCE {

alpha INTEGER (0..3599),

beta INTEGER (0..3599),

gamma INTEGER (0..3599)

}

\-- TAG-LCS-GCS-TRANSLATION-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *LCS-GCS-Translation field descriptions*                             |
+======================================================================+
| ***alpha***                                                          |
|                                                                      |
| ***This field specifies the bearing angle α for the translation of   |
| the LCS to a GCS as defined in TR 38.901 \[8\].*** Scale factor 0.1  |
| degree; range 0 to 359.9 degrees.                                    |
+----------------------------------------------------------------------+
| ***beta***                                                           |
|                                                                      |
| This field specifies the downtilt angle β ***for the translation of  |
| the LCS to a GCS as defined in TR 38.901 \[8\]***. Scale factor 0.1  |
| degrees; range 0 to 359.9 degrees.                                   |
+----------------------------------------------------------------------+
| ***gamma***                                                          |
|                                                                      |
| ***This field specifies the slant angle γ for the translation of the |
| LCS to a GCS as defined in TR 38.901 \[8\].*** Scale factor 0.1      |
| degree; range 0 to 359.9 degrees.                                    |
+----------------------------------------------------------------------+

#### -- *LOS-NLOS-Indicator*

The IE *LOS-NLOS-Indicator* provides information on the likelihood of a
Line-of-Sight (LOS) propagation path from the source to the receiver.

\-- ASN1START

\-- TAG-LOS-NLOS-INDICATOR-START

LOS-NLOS-Indicator ::= SEQUENCE {

indicator CHOICE {

soft INTEGER (0..10),

hard BOOLEAN

}

}

\-- TAG-LOS-NLOS-INDICATOR-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *LOS-NLOS-Indicator field descriptions*                              |
+======================================================================+
| ***indicator***                                                      |
|                                                                      |
| This field provides information on the likelihood of a Line-of-Sight |
| propagation path from the source to the receiver with a value of 1   |
| corresponding to LoS and a value of 0 corresponding to NLoS.         |
|                                                                      |
| \- ***soft***: Integer value \'0\' indicates likelihood 0, integer   |
| value \'10\' indicates likelihood 1. Scale factor 0.1; range 0 to 1. |
|                                                                      |
| \- ***hard***: FALSE indicates likelihood \'0\', TRUE indicates      |
| likelihood \'1\'.                                                    |
+----------------------------------------------------------------------+

#### *-- NCGI*

The IE *NCGI* specifies the NR Cell Global Identifier (NCGI) which is
used to identify NR cells globally (TS 38.331 \[2\]).

\-- ASN1START

\-- TAG-NCGI-START

NCGI ::= SEQUENCE {

mcc SEQUENCE (SIZE (3)) OF INTEGER (0..9),

mnc SEQUENCE (SIZE (2..3)) OF INTEGER (0..9),

nr-CellIdentity BIT STRING (SIZE (36))

}

\-- TAG-NCGI-STOP

\-- ASN1STOP

#### *-- NR-PhysCellID*

The IE *NR-PhysCellID* specifies the NR physical cell identifier (TS
38.331 \[2\]).

\-- ASN1START

\-- TAG-NR-PHYSCELLID-START

NR-PhysCellID ::= INTEGER (0..1007)

\-- TAG-NR-PHYSCELLID-STOP

\-- ASN1STOP

#### -- *PositioningModes*

The IE *PositioningModes* is used to indicate several positioning modes
using a bit map. This is represented by a bit string, with a one value
at the bit position means the particular positioning mode is addressed;
a zero value means not addressed.

\-- ASN1START

\-- TAG-POSITIONINGMODES-START

PositioningModes ::= BIT STRING { sl-TargetUE-Based (0),
sl-TargetUE-Assisted (1) } (SIZE (1..8))

\-- TAG-POSITIONINGMODES-STOP

\-- ASN1STOP

#### -- *SL-RTD-Info*

The IE *SL-RTD-Info* provides time synchronization information of SL
Anchor UEs.

\-- ASN1START

\-- TAG-SL-RTD-INFO-START

SL-RTD-Info ::= SEQUENCE ( SIZE (1.. maxNrOfUEs)) OF
RTD-InfoListPerAnchorUE

RTD-InfoListPerAnchorUE ::= SEQUENCE {

applicationLayerID OCTET STRING,

referenceRTD-Info ReferenceRTD-Info OPTIONAL,

rtd-BetweenAnchorUEs CHOICE {

subframeOffset INTEGER (0..1966079),

sl-OffsetDFN INTEGER (0..1000)

} OPTIONAL,

rtd-Quality SL-TimingQuality OPTIONAL,

syncSourceType ENUMERATED { gnss, gNB-eNB, ue} OPTIONAL

}

ReferenceRTD-Info ::= SEQUENCE {

syncSourceType ENUMERATED { gnss, gNB-eNB, ue},

applicationLayerID OCTET STRING OPTIONAL,

nrCell-Identify SEQUENCE {

nr-PhysCellID NR-PhysCellID OPTIONAL,

nr-ARFCN ARFCN-ValueNR OPTIONAL,

nr-CellGlobalID NCGI OPTIONAL

} OPTIONAL

}

\-- TAG-SL-RTD-INFO-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *SL-RTD-Info field descriptions*                                     |
+======================================================================+
| ***nrCell-Identify***                                                |
|                                                                      |
| This field provides NR cell identity information. The field is       |
| present only if the synchronization source of an SL Anchor UE is     |
| gNB/eNB.                                                             |
+----------------------------------------------------------------------+
| ***referenceRTD-Info***                                              |
|                                                                      |
| This field defines the reference RTD and comprises the following     |
| sub-fields:                                                          |
|                                                                      |
| > \- ***syncSourceType***: This field specifies the synchronization  |
| > source type.                                                       |
| >                                                                    |
| > \- ***applicationLayerID***: This field provides the application   |
| > layer ID of the reference UE if the *syncSourceType* is set to UE. |
+----------------------------------------------------------------------+
| ***rtdBetweenAnchorUEs***                                            |
|                                                                      |
| This field specifies the RTD between SL Anchor UEs:                  |
|                                                                      |
| \- ***subframeOffset***: This field specifies the subframe boundary  |
| offset ***at the TRP antenna location*** between the ***reference    |
| UE*** and ***this neighbour UE in*** time units where                |
| $\Delta f_{\text{max}} = 480 \bullet 10^{3}$ Hz and (TS 38.211       |
| \[6\]). The offset is counted from the beginning of a subframe \#0   |
| of the ***reference UE*** to the beginning of the closest subsequent |
| subframe of ***this neighbour UE.*** Scale factor 1 Tc.              |
|                                                                      |
| \- ***sl-OffsetDFN***: This field indicates the timing offset for    |
| the UE to determine DFN timing when GNSS is used for timing          |
| reference. Value 1 corresponds to 0.001 milliseconds, value 2        |
| corresponds to 0.002 milliseconds, and so on.                        |
+----------------------------------------------------------------------+
| ***rtd-Quality***                                                    |
|                                                                      |
| This field specifies the quality of the RTD.                         |
+----------------------------------------------------------------------+

#### -- *SL-TimeStamp*

The IE *SL-TimeStamp* defines the UE measurement associated time stamp.

\-- ASN1START

\-- TAG-SL-TIMESTAMP-START

SL-TimeStamp ::= CHOICE {

dfn-Time SEQUENCE {

syncSourceType ENUMERATED { gnss, ue} OPTIONAL,

applicationLayerID OCTET STRING OPTIONAL,

dfn INTEGER (0.. 1023),

nr-Slot CHOICE {

scs15 INTEGER (0..9),

scs30 INTEGER (0..19),

scs60 INTEGER (0..39),

scs120 INTEGER (0..79)

}

},

sfn-Time SEQUENCE {

nr-PhysCellID NR-PhysCellID OPTIONAL,

nr-ARFCN ARFCN-ValueNR OPTIONAL,

nr-CellGlobalID NCGI OPTIONAL,

nr-SFN INTEGER (0..1023),

nr-Slot CHOICE {

scs15 INTEGER (0..9),

scs30 INTEGER (0..19),

scs60 INTEGER (0..39),

scs120 INTEGER (0..79)

}

}

}

\-- TAG-SL-TIMESTAMP-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *SL-TimeStamp field descriptions*                                    |
+======================================================================+
| ***dfn-Time***                                                       |
|                                                                      |
| This field provides the DFN based time stamp.                        |
+----------------------------------------------------------------------+
| ***sfn-Time***                                                       |
|                                                                      |
| This field provides the SFN based time stamp. If this field is       |
| present, at least one of *nr-PhysCellID*, *nr-ARFCN*, or             |
| *nr-CellGlobalID* shall be present.                                  |
+----------------------------------------------------------------------+

#### -- *SL-TimingQuality*

The IE *SL-TimingQuality* defines the quality of a timing value (e.g.,
of a TOA measurement).

\-- ASN1START

\-- TAG-SL-TIMINGQUALITY-START

SL-TimingQuality ::= SEQUENCE {

timingQualityValue INTEGER (0..31),

timingQualityResolution ENUMERATED {mdot1, m1, m10, m30}

}

\-- TAG-SL-TIMINGQUALITY-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *SL-TimingQuality field descriptions*                                |
+======================================================================+
| ***timingQualityValue***                                             |
|                                                                      |
| This field provides an estimate of uncertainty of the timing value   |
| for which the IE *SL-TimingQuality* is provided in units of metres.  |
+----------------------------------------------------------------------+
| ***timingQualityResolution***                                        |
|                                                                      |
| This field provides the resolution used in the *timingQualityValue*  |
| field. Enumerated values mdot1, m1, m10, m30 correspond to 0.1, 1,   |
| 10, 30 metres, respectively.                                         |
+----------------------------------------------------------------------+

### 6.3.2 UE capability information elements

*-- ScheduledLocationTimeSupportPerMode*

The IE *ScheduledLocationTimeSupportPerMode* is used by the endpoint to
indicate the time bases supported for scheduled location requests for
each positioning mode indicated by *PositioningModes*.

\-- ASN1START

\-- TAG-SCHEDULEDLOCATIONTIMESUPPORTPERMODE-START

ScheduledLocationTimeSupportPerMode ::= SEQUENCE {

utcTime PositioningModes OPTIONAL,

gnssTime SEQUENCE {

posModes PositioningModes,

gnss-TimeIDs GNSS-ID-Bitmap

} OPTIONAL,

nrTime PositioningModes OPTIONAL,

relativeTime PositioningModes OPTIONAL

}

\-- TAG-SCHEDULEDLOCATIONTIMESUPPORTPERMODE-STOP

\-- ASN1STOP

### 6.3.3 Void

6.4 Multiplicity and type constraint values
-------------------------------------------

#### *-- Multiplicity and type constraint definitions*

\-- ASN1START

\-- TAG-MULTIPLICITY-AND-TYPE-CONSTRAINT-DEFINITIONS-START

maxNrOfUEs INTEGER ::= 256 \-- Max number of Tx UEs or Rx UEs

nrMaxBands INTEGER ::= 1024 \-- Maximum number of supported bands in UE
capability

\-- TAG-MULTIPLICITY-AND-TYPE-CONSTRAINT-DEFINITIONS-STOP

\-- ASN1STOP

#### *-- End of SLPP-PDU-Definitions*

\-- ASN1START

END

\-- ASN1STOP

6.5 SLPP PDU Common Contents
----------------------------

#### *-- SLPP-PDU-CommonContents*

This ASN.1 segment is the start of the SLPP PDU Common Contents
definitions.

\-- ASN1START

\-- TAG-SLPP-PDU-COMMONCONTENTS-START

SLPP-PDU-CommonContents DEFINITIONS AUTOMATIC TAGS ::=

BEGIN

IMPORTS

ARFCN-ValueNR,

NCGI,

NR-PhysCellID,

SL-TimeStamp

FROM

SLPP-PDU-Definitions;

\-- TAG-SLPP-PDU-COMMON-CONTENTS-STOP

\-- ASN1STOP

#### *-- CommonIEsRequestCapabilities*

\-- ASN1START

\-- TAG-COMMONIESREQUESTCAPABILITIES-START

CommonIEsRequestCapabilities ::= SEQUENCE {

\...

}

\-- TAG-COMMONIESREQUESTCAPABILITIES-STOP

\-- ASN1STOP

#### *-- CommonIEsProvideCapabilities*

\-- ASN1START

\-- TAG-COMMONIESPROVIDECAPABILITIES-START

CommonIEsProvideCapabilities ::= SEQUENCE {

\...

}

\-- TAG-COMMONIESPROVIDECAPABILITIES-STOP

\-- ASN1STOP

#### *-- CommonIEsRequestAssistanceData*

\-- ASN1START

\-- TAG-COMMONIESREQUESTASSISTANCEDATA-START

CommonIEsRequestAssistanceData ::= SEQUENCE {

\...

}

\-- TAG-COMMONIESREQUESTASSISTANCEDATA-STOP

\-- ASN1STOP

#### *-- CommonIEsProvideAssistanceData*

\-- ASN1START

\-- TAG-COMMONIESPROVIDEASSISTANCEDATA-START

CommonIEsProvideAssistanceData ::= SEQUENCE {

\...

}

\-- TAG-COMMONIESPROVIDEASSISTANCEDATA-STOP

\-- ASN1STOP

#### *-- CommonIEsRequestLocationInformation*

The IE *CommonIEsRequestLocationInformation* carries common IEs for a
Request Location Information SLPP message Type.

\-- ASN1START

\-- TAG-COMMONIESREQUESTLOCATIONINFORMATION-START

CommonIEsRequestLocationInformation ::= SEQUENCE {

locationInformationType LocationInformationType,

periodicalReporting PeriodicalReportingCriteria OPTIONAL,

additionalInformation AdditionalInformation OPTIONAL,

qos QoS OPTIONAL,

environment Environment OPTIONAL,

scheduledLocationTime ScheduledLocationTime OPTIONAL,

locationCoordinateTypes LocationCoordinateTypes OPTIONAL,

velocityTypes VelocityTypes OPTIONAL,

\...

}

LocationInformationType ::= ENUMERATED { locationEstimateRequired,
locationMeasurementsRequired, locationEstimatePreferred,

locationMeasurementsPreferred, rangeEstimateRequired,
rangeMeasurementsRequired,

rangeEstimatePreferred, rangeMeasurementsPreferred,
directionEstimateRequired,

directionMeasurementsRequired, directionEstimatePreferred,
directionMeasurementsPreferred,

rangeDirectionEstimateRequired, rangeDirectionMeasurementsRequired,

rangeDirectionEstimatePreferred, rangeDirectionMeasurementsPreferred,

relativeLocationEstimateRequired, relativeLocationMeasurementsRequired,

relativeLocationEstimatePreferred,
relativeLocationMeasurementsPreferred, spare12, spare11,

spare10, spare9, spare8, spare7, spare6, spare5, spare4, spare3, spare2,
spare1 }

PeriodicalReportingCriteria ::= SEQUENCE {

reportingAmount ENUMERATED { ra2, ra4, ra8, ra16, ra32, ra64,
ra-Infinity },

reportingInterval ENUMERATED { ri1, ri2, ri4, ri8, ri10, ri16, ri20,
ri32, ri64}

}

AdditionalInformation ::= ENUMERATED { onlyReturnInformationRequested,
mayReturnAdditionalInformation}

QoS ::= SEQUENCE {

horizontalAccuracy HorizontalAccuracy OPTIONAL,

verticalCoordinateRequest BOOLEAN,

verticalAccuracy VerticalAccuracy OPTIONAL,

rangeAccuracy RangeAccuracy OPTIONAL,

azimuthAccuracy AzimuthAccuracy OPTIONAL,

elevationAccuracy ElevationAccuracy OPTIONAL,

responseTime ResponseTime OPTIONAL,

velocityRequest BOOLEAN

}

HorizontalAccuracy ::= SEQUENCE {

accuracy INTEGER(0..255),

confidence INTEGER(0..100)

}

VerticalAccuracy ::= SEQUENCE {

accuracy INTEGER(0..255),

confidence INTEGER(0..100)

}

RangeAccuracy ::= SEQUENCE {

accuracy INTEGER(0..127),

confidence INTEGER(0..100)

}

AzimuthAccuracy ::= SEQUENCE {

accuracy INTEGER(0..127),

confidence INTEGER(0..100)

}

ElevationAccuracy ::= SEQUENCE {

accuracy INTEGER(0..127),

confidence INTEGER(0..100)

}

ResponseTime ::= SEQUENCE {

time INTEGER (1..128),

tenMilliSeconds ENUMERATED { true} OPTIONAL

}

Environment ::= ENUMERATED { badArea, notBadArea, mixedArea}

ScheduledLocationTime ::= SEQUENCE {

utc-Time UTCTime OPTIONAL,

gnss-Time SEQUENCE {

gnss-TOD-Msec INTEGER (0..3599999),

gnss-TimeID GNSS-ID

} OPTIONAL,

nr-Time SEQUENCE {

nr-PhysCellID NR-PhysCellID,

nr-ARFCN ARFCN-ValueNR,

nr-CellGlobalID NCGI OPTIONAL,

nr-SFN INTEGER (0..1023),

nr-Slot CHOICE {

scs15 INTEGER (0..9),

scs30 INTEGER (0..19),

scs60 INTEGER (0..39),

scs120 INTEGER (0..79)

} OPTIONAL

} OPTIONAL,

relativeTime INTEGER (1..1024) OPTIONAL

}

GNSS-ID ::= ENUMERATED{ gps, sbas, qzss, galileo, glonass, bds, navic,
spare1}

LocationCoordinateTypes ::= SEQUENCE {

ellipsoidPoint BOOLEAN,

ellipsoidPointWithUncertaintyCircle BOOLEAN,

ellipsoidPointWithUncertaintyEllipse BOOLEAN,

polygon BOOLEAN,

ellipsoidPointWithAltitude BOOLEAN,

ellipsoidPointWithAltitudeAndUncertaintyEllipsoid BOOLEAN,

ellipsoidArc BOOLEAN,

relative2D-LocationWithUncertaintyEllipse BOOLEAN,

relative3D-LocationWithUncertaintyEllipsoid BOOLEAN,

rangeAndDirection-range BOOLEAN,

rangeAndDirection-azimuth BOOLEAN,

rangeAndDirection-elevation BOOLEAN,

\...

}

VelocityTypes ::= SEQUENCE {

horizontalVelocity BOOLEAN,

horizontalWithVerticalVelocity BOOLEAN,

horizontalVelocityWithUncertainty BOOLEAN,

horizontalWithVerticalVelocityAndUncertainty BOOLEAN,

relativeVelocityWithUncertainty BOOLEAN,

\...

}

\-- TAG-COMMONIESREQUESTLOCATIONINFORMATION-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *CommonIEsRequestLocationInformation field descriptions*             |
+======================================================================+
| ***additionalInformation***                                          |
|                                                                      |
| **This field indicates whether the UE is allowed to return           |
| additional information to that requested. If this field indicates    |
| \'*onlyReturnInformationRequested\'* then the UE shall not return    |
| any additional information. If this field indicates                  |
| \'*mayReturnAdditionalInformation\'* then the UE may return          |
| additional information. If a location estimate is returned, any      |
| additional information is restricted to that associated with a       |
| location estimate (e.g. might include velocity if velocity was not   |
| requested but cannot include measurements). If measurements are      |
| returned, any additional information is restricted to additional     |
| measurements (e.g. might include SL-AoA measurements if SL-TDOA      |
| measurements were requested but not SL-AoA measurements).**          |
+----------------------------------------------------------------------+
| ***environment***                                                    |
|                                                                      |
| **This field provides the UE with information about expected         |
| multipath and non line of sight (NLOS) in the current area. The      |
| following values are defined:**                                      |
|                                                                      |
| \- badArea: possibly heavy multipath and NLOS conditions (e.g. bad   |
| urban or urban).                                                     |
|                                                                      |
| \- notBadArea: no or light multipath and usually LOS conditions      |
| (e.g. suburban or rural).                                            |
|                                                                      |
| \- mixedArea: environment that is mixed or not defined.              |
|                                                                      |
| **If this field is absent, a default value of \'mixedArea\'          |
| applies.**                                                           |
+----------------------------------------------------------------------+
| ***locationCoordinateTypes***                                        |
|                                                                      |
| **This field provides a list of the types of location estimate that  |
| an endpoint may return when a location estimate is obtained by the   |
| endpoint.**                                                          |
+----------------------------------------------------------------------+
| ***locationInformationType***                                        |
|                                                                      |
| This field indicates whether an endpoint requires a location         |
| estimate or measurements. For \'*locationEstimateRequired*\',        |
| \'*rangeEstimateRequired*\' or                                       |
| \'*relativeLocationEstimateRequired*\', the UE shall return a        |
| location or range estimate if possible, or indicate a location error |
| if not possible. For \'*locationMeasurementsRequired\',*             |
| \'*rangeMeasurementsRequired*\' or                                   |
| \'*relativeLocationMeasurementsRequired*\', the UE shall return      |
| measurements if possible, or indicate a location error if not        |
| possible. For \'*locationEstimatePreferred*\',                       |
| \'*rangeEstimatePreferred*\' or                                      |
| \'*relativeLocationEstimatePreferred*\', the UE shall return a       |
| location or range estimate if possible, but may also or instead      |
| return measurements for any requested position methods for which a   |
| location or range estimate is not possible. For                      |
| \'*locationMeasurementsPreferred,* \'*rangeMeasurementsPreferred*\'  |
| or \'*relativeLocationMeasurementsPreferred*\', the UE shall return  |
| location or range measurements if possible, but may also or instead  |
| return a location estimate for any requested position methods for    |
| which return of location measurements is not possible.               |
+----------------------------------------------------------------------+
| ***periodicalReporting***                                            |
|                                                                      |
| **This field indicates that periodic reporting is requested and      |
| comprises the following subfields:**                                 |
|                                                                      |
| \- ***reportingAmount*** indicates the number of periodic location   |
| information reports requested. Enumerated values correspond to 2, 4, |
| 8, 16, 32, 64, or infinite/indefinite number of reports. If the      |
| *reportingAmount* is set to \'*ra-Infinity\'*, the UE should         |
| continue periodic reporting until an SLPP *Abort* message is         |
| received.                                                            |
|                                                                      |
| \- ***reportingInterval*** indicates the interval between location   |
| information reports and the response time requirement for the first  |
| location information report. Enumerated values correspond to         |
| reporting intervals of 1, 2, 4, 8, 10, 16, 20, 32, and 64 seconds,   |
| respectively. Measurement reports containing no measurements or no   |
| location estimate are required when a *reportingInterval* expires    |
| before a UE is able to obtain new measurements or obtain a new       |
| location estimate.                                                   |
+----------------------------------------------------------------------+
| ***qos***                                                            |
|                                                                      |
| **This field indicates the quality of service and comprises a number |
| of sub-fields. In the case of measurements, some of the sub-fields   |
| apply to the location estimate that could be obtained by the         |
| endpoint from the measurements provided by the UE assuming that the  |
| measurements are the only sources of error. This field comprises the |
| following subfields:**                                               |
|                                                                      |
| \- ***azimuthAccuracy*** indicates the maximum (single-sided)        |
| horizontal direction error at an indicated confidence level. Scale   |
| factor of *accuracy* is 1 degree; range 0 to 127 degrees.            |
| \'*confidence*\' corresponds to confidence as defined in TS 23.032   |
| \[7\].                                                               |
|                                                                      |
| \- ***elevationAccuracy*** indicates the maximum (single-sided)      |
| vertical direction error at an indicated confidence level. Scale     |
| factor of *accuracy* is 1 degree; range 0 to 63 degrees.             |
| \'*confidence*\' corresponds to confidence as defined in TS 23.032   |
| \[7\].                                                               |
|                                                                      |
| \- ***horizontalAccuracy*** indicates the maximum horizontal error   |
| in the location estimate at an indicated confidence level. The       |
| \'*accuracy*\' corresponds to the encoded high accuracy extended     |
| uncertainty as defined in TS 23.032 \[7\] and \'*confidence*\'       |
| corresponds to confidence as defined in TS 23.032 \[7\].             |
|                                                                      |
| \- ***verticalCoordinateRequest*** indicates whether a vertical      |
| coordinate is required (TRUE) or not (FALSE).                        |
|                                                                      |
| \- ***verticalAccuracy*** indicates the maximum vertical error in    |
| the location estimate at an indicated confidence level and is only   |
| applicable when a vertical coordinate is requested. The              |
| \'*accuracy*\' corresponds to the encoded high accuracy extended     |
| uncertainty as defined in TS 23.032 \[7\] and \'*confidence*\'       |
| corresponds to confidence as defined in TS 23.032 \[7\].             |
|                                                                      |
| \- ***rangeAccuracy*** indicates the maximum range error at an       |
| indicated confidence level. The \'*accuracy\'* corresponds to the    |
| encoded high accuracy extended uncertainty as defined in TS 23.032   |
| \[7\] and \'*confidence*\' corresponds to confidence as defined in   |
| TS 23.032 \[7\].                                                     |
|                                                                      |
| \- ***responseTime***                                                |
|                                                                      |
| \- ***time*** indicates the maximum response time as measured        |
| between receipt of the *RequestLocationInformation* and transmission |
| of a *ProvideLocationInformation*.                                   |
|                                                                      |
| **- *tenMilliSeconds* indicates the unit of the *time* field. If     |
| this field is present, the unit/resolution is 0.01 seconds. If this  |
| field is absent, the unit/resolution is 1 second.**                  |
|                                                                      |
| \- ***velocityRequest*** indicates whether velocity (or measurements |
| related to velocity) is requested (TRUE) or not (FALSE).             |
|                                                                      |
| All QoS requirements shall be obtained by the UE to the degree       |
| possible but it is permitted to return a response that does not      |
| fulfill all QoS requirements if some were not attainable.            |
+----------------------------------------------------------------------+
| ***scheduledLocationTime***                                          |
|                                                                      |
| *This field indicates that the UE is requested to obtain location    |
| measurements or location estimate valid at the                       |
| scheduledLocationTime* *T* and comprises the following subfields:    |
|                                                                      |
| \- ***utc-Time*** provides *T* in UTC in the form of YYMMDDhhmmssZ.  |
|                                                                      |
| \- ***gnss-Time*** provides *T* in GNSS system time of the GNSS      |
| indicated by *gnss-TimeID*.                                          |
|                                                                      |
| \- ***gnss-TOD-Msec*** specifies the GNSS TOD in 1-milli-second      |
| resolution rounded down to the nearest millisecond unit.             |
|                                                                      |
| \- ***nr-Time*** provides *T* in NR network time.                    |
|                                                                      |
| \- ***nr-PhysCellID***, ***nr-ARFCN***, ***nr-CellGlobalID***        |
| identifies the reference cell (NR) that is used for the network      |
| time.                                                                |
|                                                                      |
| \- ***nr-SFN*** specifies the system frame number in NR.             |
|                                                                      |
| \- ***nr-Slot*** specifies the slot number in NR for the indicated   |
| subcarrier spacing (SCS). The total NR network time is given by      |
| *nr-SFN* + *nr-Slot*.                                                |
|                                                                      |
| \- ***relativeTime*** provides *T* in seconds from current time,     |
| where current time is defined as the time the IE                     |
| *CommonIEsRequestLocationInformation* was received.                  |
|                                                                      |
| NOTE 1: A location estimate returned to an LCS Client, AF or UE for  |
| a scheduled location time can be treated by the LCS Client, AF or UE |
| as an estimate of the location of the UE at the scheduled location   |
| time (see TS 23.273 \[5\]).                                          |
|                                                                      |
| NOTE 2: If this field is present, at least one of *utc-Time*,        |
| *gnss-Time*, *nr-Time,* or *relativeTime* shall be present.          |
+----------------------------------------------------------------------+
| ***velocityTypes***                                                  |
|                                                                      |
| **This fields provides a list of the types of velocity estimate that |
| an endpoint may return when a velocity estimate is obtained by the   |
| endpoint.**                                                          |
+----------------------------------------------------------------------+

#### *-- CommonIEsProvideLocationInformation*

The IE *CommonIEsProvideLocationInformation* carries common IEs for a
Provide Location Information SLPP message Type.

\-- ASN1START

\-- TAG-COMMONIESPROVIDELOCATIONINFORMATION-START

CommonIEsProvideLocationInformation ::= SEQUENCE {

locationEstimate LocationCoordinates OPTIONAL, \--
locationTargetUe-sl-pos

rangeAndOrDirection RangeAndOrDirection OPTIONAL,

velocityEstimate Velocity OPTIONAL,

relativeLocationEstimate RelativeLocationCoordinates OPTIONAL,

locationError LocationError OPTIONAL,

\...,

\[\[

locationTimeStamp SL-TimeStamp OPTIONAL

\]\]

}

LocationCoordinates ::= CHOICE {

ellipsoidPoint EllipsoidPoint,

ellipsoidPointWithUncertaintyCircle EllipsoidPointWithUncertaintyCircle,

ellipsoidPointWithUncertaintyEllipse
EllipsoidPointWithUncertaintyEllipse,

polygon Polygon,

ellipsoidPointWithAltitude EllipsoidPointWithAltitude,

ellipsoidPointWithAltitudeAndUncertaintyEllipsoid
EllipsoidPointWithAltitudeAndUncertaintyEllipsoid,

ellipsoidArc EllipsoidArc

}

RelativeLocationCoordinates ::= CHOICE {

relative2D-LocationWithUncertaintyEllipse
Relative2D-LocationWithUncertaintyEllipse,

relative3D-LocationWithUncertaintyEllipsoid
Relative3D-LocationWithUncertaintyEllipsoid,

\...

}

Relative2D-LocationWithUncertaintyEllipse ::= SEQUENCE {

x INTEGER (-134217728..134217727), \-- 28 bit field

y INTEGER (-134217728..134217727), \-- 28 bit field

uncertaintySemiMajor INTEGER (0..255),

uncertaintySemiMinor INTEGER (0..255),

orientationMajorAxis INTEGER (0..179),

confidence INTEGER (0..100)

}

Relative3D-LocationWithUncertaintyEllipsoid ::= SEQUENCE {

x INTEGER (-134217728..134217727), \-- 28 bit field

y INTEGER (-134217728..134217727), \-- 28 bit field

z INTEGER (-16777216..16777215), \-- 25 bit field

uncertaintySemiMajor INTEGER (0..255),

uncertaintySemiMinor INTEGER (0..255),

orientationMajorAxis INTEGER (0..179),

uncertaintyAltitude INTEGER (0..255),

confidence INTEGER (0..100)

}

Velocity ::= CHOICE {

horizontalVelocity HorizontalVelocity,

horizontalWithVerticalVelocity HorizontalWithVerticalVelocity,

horizontalVelocityWithUncertainty HorizontalVelocityWithUncertainty,

horizontalWithVerticalVelocityAndUncertainty
HorizontalWithVerticalVelocityAndUncertainty,

relativeVelocityWithUncertainty RelativeVelocityWithUncertainty

}

LocationError ::= SEQUENCE {

locationfailurecause LocationFailureCause

}

LocationFailureCause ::= ENUMERATED { undefined,
requestedMethodNotSupported, positionMethodFailure,
periodicLocationMeasurementsNotAvailable}

EllipsoidPoint ::= SEQUENCE {

latitudeSign ENUMERATED {north, south},

degreesLatitude INTEGER (0..8388607), \-- 23 bit field

degreesLongitude INTEGER (-8388608..8388607) \-- 24 bit field

}

EllipsoidPointWithUncertaintyCircle ::= SEQUENCE {

latitudeSign ENUMERATED {north, south},

degreesLatitude INTEGER (0..8388607), \-- 23 bit field

degreesLongitude INTEGER (-8388608..8388607), \-- 24 bit field

uncertainty INTEGER (0..127)

}

EllipsoidPointWithUncertaintyEllipse ::= SEQUENCE {

latitudeSign ENUMERATED {north, south},

degreesLatitude INTEGER (0..8388607), \-- 23 bit field

degreesLongitude INTEGER (-8388608..8388607), \-- 24 bit field

uncertaintySemiMajor INTEGER (0..127),

uncertaintySemiMinor INTEGER (0..127),

orientationMajorAxis INTEGER (0..179),

confidence INTEGER (0..100)

}

EllipsoidPointWithAltitude ::= SEQUENCE {

latitudeSign ENUMERATED {north, south},

degreesLatitude INTEGER (0..8388607), \-- 23 bit field

degreesLongitude INTEGER (-8388608..8388607), \-- 24 bit field

altitudeDirection ENUMERATED {height, depth},

altitude INTEGER (0..32767) \-- 15 bit field

}

EllipsoidPointWithAltitudeAndUncertaintyEllipsoid ::= SEQUENCE {

latitudeSign ENUMERATED {north, south},

degreesLatitude INTEGER (0..8388607), \-- 23 bit field

degreesLongitude INTEGER (-8388608..8388607), \-- 24 bit field

altitudeDirection ENUMERATED {height, depth},

altitude INTEGER (0..32767), \-- 15 bit field

uncertaintySemiMajor INTEGER (0..127),

uncertaintySemiMinor INTEGER (0..127),

orientationMajorAxis INTEGER (0..179),

uncertaintyAltitude INTEGER (0..127),

confidence INTEGER (0..100)

}

EllipsoidArc ::= SEQUENCE {

latitudeSign ENUMERATED {north, south},

degreesLatitude INTEGER (0..8388607), \-- 23 bit field

degreesLongitude INTEGER (-8388608..8388607), \-- 24 bit field

innerRadius INTEGER (0..65535), \-- 16 bit field,

uncertaintyRadius INTEGER (0..127),

offsetAngle INTEGER (0..179),

includedAngle INTEGER (0..179),

confidence INTEGER (0..100)

}

RangeAndOrDirection ::= SEQUENCE {

range Range OPTIONAL,

azimuth Azimuth OPTIONAL,

elevation Elevation OPTIONAL

}

Range ::= SEQUENCE {

rangeResult INTEGER (0..134217727),

uncertainty INTEGER (0..255),

confidence INTEGER (0..100) OPTIONAL

}

Azimuth ::= SEQUENCE {

azimuthResult INTEGER (0..3599),

uncertainty INTEGER (0..127),

confidence INTEGER (0..100) OPTIONAL

}

Elevation ::= SEQUENCE {

elevationResult INTEGER (0..1800),

uncertainty INTEGER (0..63),

confidence INTEGER (0..100) OPTIONAL

}

HorizontalVelocity ::= SEQUENCE {

bearing INTEGER(0..359),

horizontalSpeed INTEGER(0..2047)

}

HorizontalWithVerticalVelocity ::= SEQUENCE {

bearing INTEGER(0..359),

horizontalSpeed INTEGER(0..2047),

verticalDirection ENUMERATED{upward, downward},

verticalSpeed INTEGER(0..255)

}

HorizontalVelocityWithUncertainty ::= SEQUENCE {

bearing INTEGER(0..359),

horizontalSpeed INTEGER(0..2047),

uncertaintySpeed INTEGER(0..255)

}

HorizontalWithVerticalVelocityAndUncertainty ::= SEQUENCE {

bearing INTEGER(0..359),

horizontalSpeed INTEGER(0..2047),

verticalDirection ENUMERATED{upward, downward},

verticalSpeed INTEGER(0..255),

horizontalUncertaintySpeed INTEGER(0..255),

verticalUncertaintySpeed INTEGER(0..255)

}

Polygon ::= SEQUENCE (SIZE (3..15)) OF PolygonPoints

PolygonPoints ::= SEQUENCE {

latitudeSign ENUMERATED {north, south},

degreesLatitude INTEGER (0..8388607), \-- 23 bit field

degreesLongitude INTEGER (-8388608..8388607) \-- 24 bit field

}

RelativeVelocityWithUncertainty ::= SEQUENCE {

radialVelocityComponent SEQUENCE {

unitsRadialVelocity ENUMERATED { mPerS, cmPerS, \... },

radialVelocity INTEGER (-2048..2047),

uncertaintyRadialVelocity INTEGER (0..255),

confidenceUncertaintyRadialVelocity INTEGER (0..100)

} OPTIONAL,

transverseVelocityComponent SEQUENCE {

unitsTransverseVelocity ENUMERATED { degPerSec1, degPerSec0-1, \... },

azimuth SEQUENCE {

azimuthRateOfChange INTEGER (0..1023),

uncertaintyAzimuthRateOfChange INTEGER (0..255),

confidenceUncertaintyAzimuthRateOfChange INTEGER (0..100)

} OPTIONAL,

elevation SEQUENCE {

elevationRateOfChange INTEGER (0..1023),

uncertaintyElevationRateOfChange INTEGER (0..255),

confidenceUncertaintyElevationRateOfChange INTEGER (0..100)

} OPTIONAL

} OPTIONAL,

\...,

\[\[

azimuthRateOfChangeDirection ENUMERATED {anticlockwise} OPTIONAL,

elevationRateOfChangeDirection ENUMERATED {downward} OPTIONAL

\]\]

}

\-- TAG-COMMONIESPROVIDELOCATIONINFORMATION-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *CommonIEsProvideLocationInformation* *field descriptions*           |
+======================================================================+
| ***locationError***                                                  |
|                                                                      |
| **This field shall be included if and only if a location estimate    |
| and measurements are not included in the SLPP PDU. The field         |
| includes information concerning the reason for the lack of location  |
| information. The enumerated value**                                  |
| \'*periodicLocationMeasurementsNotAvailable*\' shall be used by the  |
| UE if periodic location reporting was requested, but no measurements |
| or location estimate are available when *the reportingInterval*      |
| expired.                                                             |
+----------------------------------------------------------------------+
| ***locationEstimate***                                               |
|                                                                      |
| This field provides a location estimate using one of the geographic  |
| shapes defined in TS 23.032 \[7\]. Coding of the values of the       |
| various fields internal to each geographic shape follows the rules   |
| in TS 23.032 \[7\]. The conditions for including this field are      |
| defined for the *locationInformationType* field in a Request         |
| Location Information message.                                        |
+----------------------------------------------------------------------+
| ***locationTimeStamp***                                              |
|                                                                      |
| This field provides the time instance when the location information  |
| (e.g., *locationEstimate* and/or *rangeAndOrDirection* and/or        |
| *velocityEstimate*) is valid.                                        |
+----------------------------------------------------------------------+
| ***rangeAndOrDirection***                                            |
|                                                                      |
| *This field provides a range and/or direction estimate* as defined   |
| in TS 23.032 \[7\] for the \"Range and Direction\".                  |
|                                                                      |
| \- ***range*** provides the range component and comprises the        |
| following subfields:                                                 |
|                                                                      |
| \- ***rangeResult*** provides the range estimate in units of         |
| milli-metres, as defined in TS 23.032 \[7\] for the \"Range and      |
| Direction\".                                                         |
|                                                                      |
| \- ***uncertainty*** provides the uncertainty of the *rangeResult*   |
| and corresponds to the encoded high accuracy extended uncertainty as |
| defined in TS 23.032 \[7\].                                          |
|                                                                      |
| \- ***confidence*** provides the confidence level for the            |
| *uncertainty* and corresponds to confidence as defined in TS 23.032  |
| \[7\].                                                               |
|                                                                      |
| \- ***azimuth*** provides the horizontal direction component and     |
| comprises the following subfields:                                   |
|                                                                      |
| \- ***azimuthResult*** provides the horizontal direction (azimuth)   |
| as defined in TS 23.032 \[7\] for the \"Range and Direction\". Scale |
| factor 0.1 degree; range 0 to 359.9 degrees.                         |
|                                                                      |
| \- ***uncertainty*** provides the single-sided uncertainty of the    |
| *azimuthResult.* Scale factor 1 degree; range 0 to 127 degrees.      |
|                                                                      |
| \- ***confidence*** provides the confidence level for the            |
| *uncertainty* and corresponds to confidence as defined in TS 23.032  |
| \[7\].                                                               |
|                                                                      |
| \- ***elevation*** provides the vertical direction component and     |
| comprises the following subfields:                                   |
|                                                                      |
| \- ***elevationResult*** provides the vertical direction (elevation) |
| as defined in TS 23.032 \[7\] for the \"Range and Direction\". Scale |
| factor 0.1 degree; range 0 to 180.0 degrees.                         |
|                                                                      |
| \- ***uncertainty*** provides the single-sided uncertainty of the    |
| *elevationResult.* Scale factor 1 degree; range 0 to 63 degrees.     |
|                                                                      |
| \- ***confidence*** provides the confidence level for the            |
| *uncertainty* and corresponds to confidence as defined in TS 23.032  |
| \[7\].                                                               |
+----------------------------------------------------------------------+
| ***relativeLocationEstimate***                                       |
|                                                                      |
| *This field provides a relative location estimate.*                  |
|                                                                      |
| \- ***relative2D-LocationWithUncertaintyEllipse*** provides the      |
| \"relative 2D location with uncertainty ellipse\" as defined in TS   |
| 23.032 \[7\] and comprises the following subfields:                  |
|                                                                      |
| \- ***x, y*** provides the value (in the unit of milli-metres) on    |
| x-axis and y-axis, respectively, of the relative location in the     |
| local cartesian system, as defined in TS 23.032 \[7\]. The origin of |
| the cartesian system is the reference location of the relative       |
| positioning.                                                         |
|                                                                      |
| \- ***uncertaintySemiMajor*** provides the semi-major axis of the    |
| uncertainty ellipse. The value corresponds to the encoded high       |
| accuracy extended uncertainty as defined in TS 23.032 \[7\].         |
|                                                                      |
| \- ***uncertaintySemiMinor*** provides the semi-minor axis of the    |
| uncertainty ellipse. The value corresponds to the encoded high       |
| accuracy extended uncertainty as defined in TS 23.032 \[7\].         |
|                                                                      |
| \- ***orientationMajorAxis*** provides the orientation angle of the  |
| major axis as defined in TS 23.032 \[7\].                            |
|                                                                      |
| \- ***confidence*** provides the confidence level for the            |
| uncertainty ellipse and corresponds to confidence as defined in TS   |
| 23.032 \[7\].                                                        |
|                                                                      |
| \- ***relative3D-LocationWithUncertaintyEllipsoid*** provides the    |
| \"relative 3D location with uncertainty ellipsoid\" as defined in TS |
| 23.032 \[7\] and comprises the following subfields:                  |
|                                                                      |
| \- ***x, y, z*** provides the value (in the unit of milli-meters) on |
| x-axis, y-axis and z-axis, respectively, of the relative location in |
| the local cartesian system, as defined in TS 23.032 \[7\]. The       |
| origin of the cartesian system is the reference location of the      |
| relative positioning.                                                |
|                                                                      |
| \- ***uncertaintySemiMajor*** provides the semi-major axis of the    |
| uncertainty ellipsoid. The value corresponds to the encoded high     |
| accuracy extended uncertainty as defined in TS 23.032 \[7\].         |
|                                                                      |
| \- ***uncertaintySemiMinor*** provides the semi-minor axis of the    |
| uncertainty ellipsoid. The value corresponds to the encoded high     |
| accuracy extended uncertainty as defined in TS 23.032 \[7\].         |
|                                                                      |
| \- ***orientationMajorAxis*** provides the orientation angle of the  |
| major axis as defined in TS 23.032 \[7\].                            |
|                                                                      |
| \- ***uncertaintyAltitude*** provides uncertainty altitude. The      |
| value corresponds to the encoded high accuracy extended uncertainty  |
| as defined in TS 23.032 \[7\].                                       |
|                                                                      |
| \- ***confidence*** provides the confidence level for the            |
| uncertainty ellipsoid and corresponds to confidence as defined in TS |
| 23.032 \[7\].                                                        |
+----------------------------------------------------------------------+
| ***relativeVelocityWithUncertainty***                                |
|                                                                      |
| This field provides the relative velocity with uncertainty as        |
| defined in TS 23.032 \[7\] and comprises the following subfields:    |
|                                                                      |
| ***-*** ***radialVelocityComponent*** provides the radial velocity   |
| component characterised by a rate of change of range between the     |
| endpoint A and endpoint B:                                           |
|                                                                      |
| \- ***unitsRadialVelocity*** provides the unit for the               |
| *radialVelocity*. Enumerated values \'*mPerS*\' and \'*cmPerS*\'     |
| indicate units m/s and cm/s, respectively.                           |
|                                                                      |
| \- ***radialVelocity*** provides the radial velocity as defined in   |
| TS 23.032 \[7\] in units given in the *unitsRadialVelocity* field.   |
| Positive values indicate increasing range between endpoint A and B;  |
| negative values indicate decreasing range between endpoint A and B.  |
|                                                                      |
| \- ***uncertaintyRadialVelocity*** provides the (single-sided)       |
| uncertainty of the *radialVelocity* in increments of 1 the unit      |
| given in the *unitsRadialVelocity* field.                            |
|                                                                      |
| \- ***confidenceUncertaintyRadialVelocity*** provides the confidence |
| of the *uncertaintyRadialVelocity*, as defined in TS 23.032 \[7\]    |
| for the \"Confidence\".                                              |
|                                                                      |
| ***-*** ***transverseVelocityComponent*** provides the transverse    |
| velocity component characterised by a rate of change of direction to |
| the endpoint B from the endpoint A:                                  |
|                                                                      |
| \- ***unitsTransverseVelocity*** provides the unit for the *azimuth* |
| and *elevation* components. Enumerated values \'*degPerSec1*\' and   |
| \'*degPerSec0-1*\' indicate units 1-degree per second and 0.1 degree |
| per second, respectively.                                            |
|                                                                      |
| \- ***azimuthRateOfChange*** provides the rate of change of azimuth  |
| measured clockwise from North in a horizontal plane through the      |
| endpoint A as defined in TS 23.032 \[7\] in units given in the       |
| *unitsTransverseVelocity* field.                                     |
|                                                                      |
| \- ***uncertaintyAzimuthRateOfChange*** provides the (single-sided)  |
| uncertainty of the *azimuthRateOfChange* in increments of 1 units    |
| given in the *unitsTransverseVelocity* field.                        |
|                                                                      |
| \- ***confidenceUncertaintyAzimuthRateOfChange*** provides the       |
| confidence of the *uncertaintyAzimuthRateOfChange*, as defined in TS |
| 23.032 \[7\] for the \"Confidence\".                                 |
|                                                                      |
| \- ***elevationRateOfChange*** provides the rate of change of        |
| elevation measured from Zenith in a vertical plane through the       |
| endpoint A and B, as defined in TS 23.032 \[7\] in units given in    |
| the *unitsTransverseVelocity* field.                                 |
|                                                                      |
| \- ***uncertaintyElevationRateOfChange*** provides the               |
| (single-sided) uncertainty of the *elevationRateOfChange* in         |
| increments of 1 in units given in the *unitsTransverseVelocity*      |
| field.                                                               |
|                                                                      |
| > \- ***confidenceUncertaintyElevationRateOfChange*** provides the   |
| > confidence of the *uncertaintyElevationRateOfChange*, as defined   |
| > in TS 23.032 \[7\] for the \"Confidence\".                         |
|                                                                      |
| ***-*** ***azimuthRateOfChangeDirection*** provides the direction of |
| the *azimuthRateOfChange*. If this field is absent, the direction of |
| *azimuthRateOfChange* is clockwise.                                  |
|                                                                      |
| *-* ***elevationRateOfChangeDirection*** provides the direction of   |
| the *elevationRateOfChange*. If this field is absent, the direction  |
| of *elevationRateOfChange* is upward.                                |
+----------------------------------------------------------------------+
| ***velocityEstimate***                                               |
|                                                                      |
| This field provides a velocity estimate using one of the velocity    |
| shapes defined in TS 23.032 \[7\]. Coding of the values of the       |
| various fields internal to each velocity shape (except for           |
| *relativeVelocityWithUncertainty*) follows the rules in TS 23.032    |
| \[7\].                                                               |
+----------------------------------------------------------------------+

#### *-- End of SLPP-PDU-CommonContents*

\-- ASN1START

END

\-- ASN1STOP

6.6 SLPP PDU Common SL-PRS Methods Contents
-------------------------------------------

#### *-- SLPP-PDU-CommonSL-PRS-MethodsContents*

This ASN.1 segment is the start of the SLPP PDU Common SL-PRS Methods
Contents definitions.

\-- ASN1START

\-- TAG-SLPP-PDU-COMMONSL-PRS-METHODSCONTENTS-START

SLPP-PDU-CommonSL-PRS-MethodsContents DEFINITIONS AUTOMATIC TAGS ::=

BEGIN

IMPORTS

EllipsoidPoint,

EllipsoidPointWithUncertaintyEllipse,

EllipsoidPointWithAltitude,

EllipsoidPointWithAltitudeAndUncertaintyEllipsoid

FROM

SLPP-PDU-CommonContents

SL-TimeStamp,

maxNrOfUEs,

nrMaxBands

FROM

SLPP-PDU-Definitions;

\-- TAG-SLPP-PDU-COMMONSL-PRS-METHODSCONTENTS-STOP

\-- ASN1STOP

#### *-- CommonSL-PRS-MethodsIEsRequestCapabilities*

\-- ASN1START

\-- TAG-COMMONSL-PRS-METHODSIESREQUESTCAPABILITIES-START

CommonSL-PRS-MethodsIEsRequestCapabilities ::= SEQUENCE {

\...

}

\-- TAG-COMMONSL-PRS-METHODSIESREQUESTCAPABILITIES-STOP

\-- ASN1STOP

#### *-- CommonSL-PRS-MethodsIEsProvideCapabilities*

\-- ASN1START

\-- TAG-COMMONSL-PRS-METHODSIESPROVIDECAPABILITIES-START

CommonSL-PRS-MethodsIEsProvideCapabilities ::= SEQUENCE {

\--R1 41-1-1a Common SL-PRS processing capability per UE

sl-PRS-CommonProcCapabilityPerUE SL-PRS-CommonProcCapabilityPerUE
OPTIONAL,

sl-PRS-CapabilityBandList SEQUENCE (SIZE (1..nrMaxBands)) OF
SL-PRS-CapabilityPerBand,

\...

}

SL-PRS-CapabilityPerBand ::= SEQUENCE {

freqBandIndicatorNR INTEGER (1..1024),

\--R1 41-1-1 Common SL-PRS processing capability in an SL BWP

sl-PRS-CommonProcCapabilityPerBand SL-PRS-CommonProcCapabilityPerBand
OPTIONAL,

\--R1 41-1-19 ARP location provision for sidelink as assistance data

sl-PositioningARP-LocationProvision ENUMERATED {supported} OPTIONAL,

dummy1 ENUMERATED {supported} OPTIONAL,

dummy2 ENUMERATED {supported} OPTIONAL,

\--R1 41-1-2 Receiving SL-PRS in a shared resource pool

sl-PRS-RxInSharedResourcePool ENUMERATED {supported} OPTIONAL,

\--R1 41-1-3 Receiving SL-PRS in a dedicated resource pool

sl-PRS-RxInDedicatedResourcePool SL-PRS-RxInDedicatedResourcePool
OPTIONAL,

\--R1 41-1-4a Transmitting SL-PRS in a shared resource pool

sl-PRS-TxInSharedResourcePool ENUMERATED {supported} OPTIONAL,

\--R1 41-1-4b Transmitting SL-PRS mode 1 in a dedicated resource pool

sl-PRS-TxScheme1InDedicatedResourcePool ENUMERATED {supported} OPTIONAL,

\--R1 41-1-4c Transmitting SL-PRS mode 2 in a dedicated resource pool

sl-PRS-TxScheme2InDedicatedResourcePool ENUMERATED {supported} OPTIONAL,

\--R1 41-1-7e SL PRS measurement for SL PRS-RSRP

sl-PRS-RSRP-Meas ENUMERATED {supported} OPTIONAL,

\--R1 41-1-7f SL PRS measurement for SL PRS-RSRPP

sl-PRS-RSRPP-Meas ENUMERATED {supported} OPTIONAL,

\--R1 41-1-11 TDM-based multiplexing of SL-PRS reception from different
UEs in the same slot in dedicated resource pool

sl-PRS-TDM-Multiplexing ENUMERATED {supported} OPTIONAL,

\--R1 41-1-12 Comb-based multiplexing for SL-PRS reception from
different UEs in the same slot in dedicated resource pool

sl-PRS-RxCombMultiplexing ENUMERATED {supported} OPTIONAL,

\--R1 41-1-13 Reporting the additional paths for SL positioning

sl-PRS-AdditionalPathsReport ENUMERATED {n1,n2,n4,n6,n8} OPTIONAL,

\--R1 41-1-14 LoS/NLoS indicator for SL positioning per measurement

sl-PRS-LOS-NLOS-Indication ENUMERATED {hard, hard-soft} OPTIONAL,

\-- R1 41-1-20: Supports SL PRS Rx for a band configured with SL CA

sl-PRS-RxForBandWithSL-CA ENUMERATED {supported} OPTIONAL,

\-- R1 41-1-21: Supports SL PRS Tx for a band configured with SL CA

sl-PRS-TxForBandWithSL-CA ENUMERATED {supported} OPTIONAL,

\...,

\[\[

\--R1 41-1-19b Report of Tx ARP-ID to LMF or another UE for the
transmitted SL PRS

sl-PRS-ReportTxARP-ID ENUMERATED {n2, n3, n4} OPTIONAL

\]\]

}

SL-PRS-CommonProcCapabilityPerUE ::= SEQUENCE {

\--R1 41-1-1a Common SL-PRS processing capability

maxNumOfActiveSL-PRS-Resources SEQUENCE {

fr1 ENUMERATED {n1, n2, n4, n6, n8, n12, n16, n24} OPTIONAL,

fr2 ENUMERATED {n1, n2, n4, n6, n8, n12, n16, n24, n32, n48, n64, n128}
OPTIONAL

},

maxNumOfSlotswithActiveSL-PRS-Resources SEQUENCE {

fr1 ENUMERATED {n1, n2, n3, n4, n6, n8} OPTIONAL,

fr2 ENUMERATED {n1, n2, n4, n8, n12, n16, n24, n32, n48, n64} OPTIONAL

}

}

SL-PRS-CommonProcCapabilityPerBand ::= SEQUENCE {

maxSL-PRS-Bandwidth CHOICE {

fr1 ENUMERATED {mhz5, mhz10, mhz20, mhz40, mhz50, mhz80, mhz100},

fr2 ENUMERATED {mhz50, mhz100, mhz200, mhz400}

},

maxNumOfActiveSL-PRS-ResourcesInOneSlot CHOICE {

fr1 ENUMERATED {n1, n2, n4, n6, n8, n12, n16, n24},

fr2 ENUMERATED {n1, n2, n4, n6, n8, n12, n16, n24, n32, n48, n64, n128}

},

maxNumOfSlotsWithActiveSL-PRS-Resources CHOICE {

fr1 ENUMERATED {n1, n2, n3, n4, n6, n8},

fr2 ENUMERATED {n1, n2, n4, n8, n12, n16, n24, n32, n48, n64}

},

minTimeAfterEndofSlotCarryActiveSL-PRS-Resources ENUMERATED {ms20, ms30,
ms40, ms50, ms80, ms100, ms160}

}

SL-PRS-RxInDedicatedResourcePool ::= SEQUENCE {

numOfSupportedRxPSCCH-PerSlot ENUMERATED {value1, value2},

supportedCP-TypeFor60kHzSCS ENUMERATED {ncp, ncpAndECP}

}

\-- TAG-COMMONSL-PRS-METHODSIESPROVIDECAPABILITIES-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *CommonSL-PRS-MethodsIEsProvideCapabilities* *field descriptions*    |
+======================================================================+
| ***dummy1, dummy2***                                                 |
|                                                                      |
| The fields are not used in the specification. If received it shall   |
| be ignored by the receiving endpoint.                                |
+----------------------------------------------------------------------+
| ***sl-PositioningARP-LocationProvision***                            |
|                                                                      |
| **Indicates whether UE supports provisioning of ARP location for     |
| sidelink as assistance data.**                                       |
+----------------------------------------------------------------------+
| ***sl-PRS-AdditionalPathsReport***                                   |
|                                                                      |
| Indicates whether UE supports RSRPP reporting for additional paths.  |
|                                                                      |
| The value indicates the maximum number of additional detected path   |
| timing reporting for K additional paths for SL positioning.          |
|                                                                      |
| UE supporting this feature shall also support at least one of        |
| *sl-PRS-RSTD-Meas*, *sl-RTOA-Meas*,                                  |
| *sl-PRS-RxTxTimeDiffWithoutTxTimeStamp*,                             |
| *sl-PRS-RxTxTimeDiffWithTxTimeStamp*, *sl-PRS-RSRPP-Meas*, or        |
| *sl-AoA-Meas*.                                                       |
+----------------------------------------------------------------------+
| ***sl-PRS-CommonProcCapabilityPerBand***                             |
|                                                                      |
| Indicates the common SL-PRS processing capability per band, and      |
| comprises the following sub-fields:                                  |
|                                                                      |
| \- ***maxSL-PRS-Bandwidth***: Maximum SL PRS bandwidth in MHz in a   |
| resource pool for positioning, which is supported and reported by UE |
| for SL-PRS measurement.                                              |
|                                                                      |
| \- ***maxNumOfActiveSL-PRS-ResourcesInOneSlot***: Maximum number of  |
| active SL PRS resources across all configured RPs in a slot assuming |
| maximum SL PRS bandwidth in MHz, which is supported and reported by  |
| UE.                                                                  |
|                                                                      |
| \- ***maxNumOfSlotsWithActiveSL-PRS-Resources***: Maximum number of  |
| slots with active SL PRS resources across all configured RPs         |
| assuming maximum SL PRS bandwidth in MHz, which is supported and     |
| reported by UE.                                                      |
|                                                                      |
| \- ***minTimeAfterEndofSlotCarryActiveSL-PRS-Resources***: Minimum   |
| time after the end of a slot carrying the active SL-PRS resource(s)  |
| assuming maximum number of symbols and maximum bandwidth for a UE to |
| finish the SL-PRS resource and the associated PSCCH processing which |
| is supported and reported by UE.                                     |
|                                                                      |
| NOTE 1: An SL PRS resource is considered as active starting at the   |
| end of the last symbol of the PSCCH carrying the SCI trigger and the |
| occupancy is released at the end of timeline indicated in            |
| *minTimeAfterEndofSlotCarryActiveSL-PRS-Resources*.                  |
+----------------------------------------------------------------------+
| ***sl-PRS-CommonProcCapabilityPerUE***                               |
|                                                                      |
| Indicates the common SL-PRS processing capability, and comprises the |
| following sub-fields:                                                |
|                                                                      |
| \- ***maxNumOfActiveSL-PRS-Resources***: Maximum number of active SL |
| PRS resources across all configured RPs across all bands in a slot   |
| assuming maximum SL PRS bandwidth in MHz, which is supported and     |
| reported by UE.                                                      |
|                                                                      |
| \- ***maxNumOfSlotswithActiveSL-PRS-Resources***: Maximum number of  |
| slots with active SL PRS resources across all configured RPs across  |
| all bands assuming maximum SL PRS bandwidth in MHz, which is         |
| supported and reported by UE.                                        |
|                                                                      |
| UE supporting this feature shall also support                        |
| *sl-PRS-CommonProcCapabilityPerBand*.                                |
+----------------------------------------------------------------------+
| ***sl-PRS-LOS-NLOS-Indication***                                     |
|                                                                      |
| Indicates whether UE supports LoS/NLoS indicator for SL positioning  |
| per measurement.                                                     |
|                                                                      |
| The value indicates whether the indicator is hard value or hard+soft |
| value.                                                               |
|                                                                      |
| UE supporting this feature shall also support at least one of        |
| *sl-PRS-RSTD-Meas*, *sl-RTOA-Meas*,                                  |
| *sl-PRS-RxTxTimeDiffWithoutTxTimeStamp*,                             |
| *sl-PRS-RxTxTimeDiffWithTxTimeStamp*, or *sl-AoA-Meas*.              |
+----------------------------------------------------------------------+
| ***sl-PRS-ReportTxARP-ID***                                          |
|                                                                      |
| Indicates the maximum number of Tx ARP-IDs that the UE supports for  |
| the transmitted SL PRS.                                              |
+----------------------------------------------------------------------+
| ***sl-PRS-RSRP-Meas***                                               |
|                                                                      |
| Indicates whether UE supports SL PRS measurement for SL PRS-RSRP,    |
| and is comprised of the following functional components:             |
|                                                                      |
| \- Support SL PRS-RSRP measurement based on SL-PRS;                  |
|                                                                      |
| \- Support SL PRS-RSRP measurement reporting.                        |
|                                                                      |
| UE supporting this feature shall also support                        |
| *sl-PRS-CommonProcCapabilityPerBand*.                                |
+----------------------------------------------------------------------+
| ***sl-PRS-RSRPP-Meas***                                              |
|                                                                      |
| Indicates whether UE supports SL PRS measurement for SL PRS-RSRPP,   |
| and is comprised of the following functional components:             |
|                                                                      |
| \- Support SL PRS-RSRPP measurement based on SL-PRS;                 |
|                                                                      |
| \- Support SL PRS-RSRPP measurement reporting.                       |
|                                                                      |
| UE supporting this feature shall also support                        |
| *sl-PRS-CommonProcCapabilityPerBand*.                                |
+----------------------------------------------------------------------+
| ***sl-PRS-RxCombMultiplexing***                                      |
|                                                                      |
| Indicates whether UE supports comb-based multiplexing for SL-PRS     |
| reception from different UEs in the same slot in dedicated resource  |
| pool.                                                                |
|                                                                      |
| UE supporting this feature shall also support                        |
| *sl-PRS-RxInDedicatedResourcePool*.                                  |
+----------------------------------------------------------------------+
| ***sl-PRS-RxForBandWithSL-CA***                                      |
|                                                                      |
| ***Indicates whether UE supports SL PRS reception in a single        |
| carrier for a shared SL PRS resource pool and/or a dedicated SL PRS  |
| resource pool for a band configured with SL CA.***                   |
|                                                                      |
| A UE that supports this feature shall also support                   |
| *sl-CA-Communication-r18*, defined in TS 38.331 \[2\] and one of     |
| *sl-PRS-RxInSharedResourcePool* or                                   |
| *sl-PRS-RxInDedicatedResourcePool*.                                  |
|                                                                      |
| NOTE 1: In a shared SL PRS resource pool in a single SL carrier: Tx  |
| power control follows the rule defined for SL CA in NR Rel-18.       |
|                                                                      |
| NOTE 2: In a dedicated SL PRS resource pool in a single SL carrier   |
| when the slots (pre)configured for the dedicated SL PRS resource     |
| pool do not collide with the slots (pre)configured for any other     |
| resource pool or S-SSB resource(s) in other carriers.                |
+----------------------------------------------------------------------+
| ***sl-PRS-RxInDedicatedResourcePool***                               |
|                                                                      |
| Indicates whether UE supports receiving SL-PRS in dedicated resource |
| pool and receiving SCI format 1B.                                    |
|                                                                      |
| This field comprises the following sub-fields:                       |
|                                                                      |
| \- ***numOfSupportedRxPSCCH-PerSlot***: Indicates the number of      |
| PSCCH UE can receive in a slot. value1 corresponds to floor (N~RB~   |
| /10 RBs), value2 corresponds to 2\*floor (N~RB~ /10 RBs). N~RB~ is   |
| the number of RBs defined per channel bandwidth in TS 38.101-1       |
| \[11\] Table 5.3.2-1 for FR1 and TS 38.101-2 \[10\] Table 5.3.2-1    |
| for FR2.                                                             |
|                                                                      |
| \- ***supportedCP-TypeFor60kHzSCS***: Indicates the supported CP     |
| type for 60 kHz SCS.                                                 |
|                                                                      |
| UE supporting this feature shall also support                        |
| *sl-PRS-CommonProcCapabilityPerBand*.                                |
+----------------------------------------------------------------------+
| ***sl-PRS-RxInSharedResourcePool***                                  |
|                                                                      |
| Indicates whether UE supports receiving SL-PRS in shared resource    |
| pool and receiving SCI format 2D.                                    |
|                                                                      |
| UE supporting this feature shall also support                        |
| *sl-PRS-CommonProcCapabilityPerBand* and *sl-Reception-r16* defined  |
| in TS 38.331 \[2\].                                                  |
+----------------------------------------------------------------------+
| ***sl-PRS-TDM-Multiplexing***                                        |
|                                                                      |
| Indicates whether UE supports TDM-based multiplexing of SL-PRS       |
| reception from different UEs in the same slot in dedicated resource  |
| pool.                                                                |
|                                                                      |
| UE supporting this feature shall also support                        |
| *sl-PRS-RxInDedicatedResourcePool*.                                  |
+----------------------------------------------------------------------+
| ***sl-PRS-TxForBandWithSL-CA***                                      |
|                                                                      |
| ***Indicates whether UE supports SL PRS transmission in a single     |
| carrier for a shared SL PRS resource pool and/or a dedicated SL PRS  |
| resource pool for a band configured with SL CA.***                   |
|                                                                      |
| A UE that supports this feature shall also support                   |
| *sl-CA-Communication-r18*, defined in TS 38.331 \[2\] and one of     |
| *sl-PRS-TxInSharedResourcePool,                                      |
| sl-PRS-TxScheme1InDedicatedResourcePool,* or                         |
| *sl-PRS-TxScheme2InDedicatedResourcePool*.                           |
|                                                                      |
| NOTE 1: In a shared SL PRS resource pool in a single SL carrier: Tx  |
| power control follows the rule defined for SL CA in NR Rel-18.       |
|                                                                      |
| NOTE 2: In a dedicated SL PRS resource pool in a single SL carrier   |
| when the slots (pre)configured for the dedicated SL PRS resource     |
| pool do not collide with the slots (pre)configured for any other     |
| resource pool or S-SSB resource(s) in other carriers.                |
+----------------------------------------------------------------------+
| ***sl-PRS-TxInSharedResourcePool***                                  |
|                                                                      |
| Indicates whether UE supports transmitting SL-PRS in a shared        |
| resource pool, and is comprised of the following functional          |
| components:                                                          |
|                                                                      |
| \- Support transmitting SL-PRS in shared resource pool;              |
|                                                                      |
| \- Support transmitting SCI format 2D;                               |
|                                                                      |
| \- Support downlink pathloss based open loop power control.          |
|                                                                      |
| The supported resource allocation modes are the same as for          |
| communication and signaled in *sl-TransmissionMode1-r16* and         |
| *sl-TransmissionMode2-r16* defined in TS 38.331 \[2\]*.*             |
|                                                                      |
| UE supporting this feature shall also support                        |
| *sl-TransmissionMode1-r16* or *sl-TransmissionMode2-r16* defined in  |
| TS 38.331 \[2\], and *sl-PRS-RxInSharedResourcePool*.                |
+----------------------------------------------------------------------+
| ***sl-PRS-TxScheme1InDedicatedResourcePool***                        |
|                                                                      |
| Indicates whether UE supports transmitting SL-PRS scheme 1 in a      |
| dedicated resource pool, and is comprised of the following           |
| functional components:                                               |
|                                                                      |
| \- Support transmitting SL-PRS and PSCCH within a slot without PSSCH |
| in dedicated resource pool;                                          |
|                                                                      |
| \- Support transmitting SL-PRS according to the mapping rule between |
| PSCCH and SL-PRS;                                                    |
|                                                                      |
| \- Support transmitting SCI format 1B;                               |
|                                                                      |
| \- Support receiving DCI format 3\_2;                                |
|                                                                      |
| \- Support downlink pathloss based open loop power control of SL-PRS |
| (NOTE 1).                                                            |
|                                                                      |
| UE supporting this feature shall also support                        |
| *sl-PRS-RxInDedicatedResourcePool*.                                  |
|                                                                      |
| NOTE 1: It is not required to be supported in a band indicated with  |
| only the PC5 interface in TS 38.101-1 \[11\] Table 5.2E.1-1.         |
+----------------------------------------------------------------------+
| ***sl-PRS-TxScheme2InDedicatedResourcePool***                        |
|                                                                      |
| Indicates whether UE supports transmitting SL-PRS scheme 2 in a      |
| dedicated resource pool, and is comprised of the following           |
| functional components:                                               |
|                                                                      |
| \- Support transmitting SL-PRS and PSCCH within a slot without PSSCH |
| in dedicated resource pool;                                          |
|                                                                      |
| \- Support transmitting SL-PRS according to the mapping rule between |
| PSCCH and SL-PRS;                                                    |
|                                                                      |
| \- Support transmitting SCI format 1B.                               |
|                                                                      |
| UE supporting this feature shall also support at least one of        |
| *sl-PRS-TxRandomSelection-r18* or *sl-PRS-TxUsingFullSensing-r18*    |
| defined in TS 38.331 \[2\].                                          |
+----------------------------------------------------------------------+

#### *-- CommonSL-PRS-MethodsIEsRequestAssistanceData*

\-- ASN1START

\-- TAG-COMMONSL-PRS-METHODSIESREQUESTASSISTANCEDATA-START

CommonSL-PRS-MethodsIEsRequestAssistanceData ::= SEQUENCE {

sl-PRS-AssistanceDataInfoReq BIT STRING { sl-PRS-SequenceID-Req (0),

anchorUE-LocationInfoReq (1),

arp-LocationInfoReq (2),

sl-POS-ARP-ID-Tx-Req (3)

} (SIZE (1..8)) OPTIONAL,

\...

}

\-- TAG-COMMONSL-PRS-METHODSIESREQUESTASSISTANCEDATA-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *CommonSL-PRS-MethodsIEsRequestAssistanceData* *field descriptions*  |
+======================================================================+
| ***sl-PRS-AssistanceDataInfoReq***                                   |
|                                                                      |
| **This field indicates the SL PRS Assistance Data requested**.       |
|                                                                      |
| \- ***bit 0 indicates** whether the field sl-PRS-SequenceID in IE    |
| CommonSL-PRS-MethodsIEsProvideAssistanceData is requested or not;*   |
|                                                                      |
| \- ***bit 1 indicates** whether the field                            |
| anchorUE-LocationInformation in IE                                   |
| CommonSL-PRS-MethodsIEsProvideAssistanceData is requested or not;*   |
|                                                                      |
| > \- ***bit 2 indicates** whether the field arp-LocationInfo in IE   |
| > CommonSL-PRS-MethodsIEsProvideAssistanceData is requested or not;* |
| >                                                                    |
| > \- bit 3 indicates whether the field *sl-POS-ARP-ID-Tx* in *IE     |
| > CommonSL-PRS-MethodsIEsProvideAssistanceData* is requested or not. |
+----------------------------------------------------------------------+

#### *-- CommonSL-PRS-MethodsIEsProvideAssistanceData*

\-- ASN1START

\-- TAG-COMMONSL-PRS-METHODSIESPROVIDEASSISTANCEDDATA-START

CommonSL-PRS-MethodsIEsProvideAssistanceData ::= SEQUENCE {

sl-PRS-AssistanceDataInfo SEQUENCE (SIZE (1..maxNrOfUEs)) OF
SL-PRS-AssistanceData OPTIONAL,

sl-PRS-Error SL-PRS-AssistanceDataError OPTIONAL,

\...

}

SL-PRS-AssistanceData ::= SEQUENCE {

applicationLayerID OCTET STRING,

sl-PRS-SequenceID INTEGER(0..4095) OPTIONAL, \-- SL PRS sequence ID for
transmitting SL-PRS

anchorUE-LocationInformation AnchorLocationCoordinates OPTIONAL,

arp-LocationInfo ARP-LocationInfo OPTIONAL,

sl-PRS-TxInfo SL-PRS-TxInfo OPTIONAL,

sl-POS-ARP-ID-Tx SL-POS-ARP-ID-Tx-InfoList OPTIONAL,

\...

}

AnchorLocationCoordinates ::= CHOICE {

ellipsoidPoint EllipsoidPoint,

ellipsoidPointWithUncertaintyEllipse
EllipsoidPointWithUncertaintyEllipse,

ellipsoidPointWithAltitude EllipsoidPointWithAltitude,

ellipsoidPointWithAltitudeAndUncertaintyEllipsoid
EllipsoidPointWithAltitudeAndUncertaintyEllipsoid

}

ARP-LocationInfo ::= SEQUENCE {

referencePoint ReferencePoint OPTIONAL,

arp-LocationInfoList SEQUENCE (SIZE (1..4)) OF ARP-LocationInfoElement

}

ReferencePoint ::= CHOICE {

location2D EllipsoidPointWithUncertaintyEllipse,

location3D EllipsoidPointWithAltitudeAndUncertaintyEllipsoid

}

ARP-LocationInfoElement ::= SEQUENCE {

sl-PRS-ARP-ID INTEGER (1..4),

arp-LocationInfo RelativeLocation

}

RelativeLocation ::= SEQUENCE {

milliArcSecondUnits ENUMERATED { mas0-03, mas0-3, mas3, mas30},

heightUnits ENUMERATED { mm, cm, m, spare1},

deltaLatitude DeltaLatitude,

deltaLongitude DeltaLongitude,

deltaHeight DeltaHeight,

locationUNC LocationUncertainty OPTIONAL

}

DeltaLatitude ::= SEQUENCE {

deltaLatitude INTEGER (-1024..1023),

coarseDeltaLatitude INTEGER (0..4095) OPTIONAL

}

DeltaLongitude ::= SEQUENCE {

deltaLongitude INTEGER (-1024..1023),

coarseDeltaLongitude INTEGER (0..4095) OPTIONAL

}

DeltaHeight ::= SEQUENCE {

deltaHeight INTEGER (-1024..1023),

coarseDeltaHeight INTEGER (0..4095) OPTIONAL

}

LocationUncertainty ::= SEQUENCE {

horizontalUncertainty INTEGER (0..255),

horizontalConfidence INTEGER (0..100),

verticalUncertainty INTEGER (0..255),

verticalConfidence INTEGER (0..100)

}

SL-PRS-AssistanceDataError ::= ENUMERATED { undefined,
assistanceDataNotAvailable, \... }

SL-PRS-TxInfo ::= SEQUENCE {

sl-PRS-Priority INTEGER (1..8) OPTIONAL,

sl-PRS-DelayBudget INTEGER (0..1023) OPTIONAL,

sl-PRS-Bandwidth ENUMERATED {mhz5, mhz10, mhz15, mhz20, mhz25, mhz30,
mhz35, mhz40,

mhz45, mhz50, mhz60, mhz70, mhz80, mhz90, mhz100, mhz200, mhz400,

spare15, spare14, spare13, spare12, spare11, spare10, spare9, spare8,

spare7, spare6, spare5, spare4, spare3, spare2, spare1} OPTIONAL,

sl-PRS-Periodicity ENUMERATED {ms100, ms200, ms300, ms400, ms500, ms600,
ms700, ms800,

ms900, ms1000, spare6, spare5, spare4, spare3, spare2, spare1} OPTIONAL,

sl-PRS-Transmission ENUMERATED {true} OPTIONAL

}

\-- TAG-COMMONSL-PRS-METHODSIESPROVIDEASSISTANCEDDATA-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *CommonSL-PRS-MethodsIEsProvideAssistanceData* *field descriptions*  |
+======================================================================+
| ***anchorUE-LocationInformation***                                   |
|                                                                      |
| This field provides the location coordinates of an SL Anchor UE      |
| identified by *applicationLayerID*.                                  |
+----------------------------------------------------------------------+
| ***arp-LocationInfo***                                               |
|                                                                      |
| This field provides the location coordinates of the ARPs of the UE   |
| identified by *applicationLayerID*.                                  |
+----------------------------------------------------------------------+
| ***applicationLayerID***                                             |
|                                                                      |
| This field provides the application layer ID as defined in TS 23.287 |
| \[9\] for which the *SL-PRS-AssistanceData* is applicable.           |
+----------------------------------------------------------------------+
| ***referencePoint***                                                 |
|                                                                      |
| This field provides the reference point used to define the location  |
| of ARPs provided in the *arp-LocationInfoList*. If this field is     |
| absent, the reference point is the same as in the previous entry of  |
| the *sl-PRS-AssistanceDataInfo* list.                                |
+----------------------------------------------------------------------+
| ***sl-PRS-ARP-ID***                                                  |
|                                                                      |
| This field provides the ARP ID of an ARP. The ARP ID is used to      |
| uniquely identify an ARP associated with the UE identified by        |
| *applicationLayerID*.                                                |
+----------------------------------------------------------------------+
| ***sl-PRS-Bandwidth***                                               |
|                                                                      |
| This field provides the bandwidth of SL-PRS transmission which is    |
| used in *UEAssistanceInformation* message as defined in TS 38.331    |
| \[2\] and the SL-PRS resource request MAC CE as defined in TS 38.321 |
| \[15\]. Value *mhz5* corresponds to 5 MHz, value *mhz10* corresponds |
| to 10 MHz, and so on.                                                |
+----------------------------------------------------------------------+
| ***sl-PRS-DelayBudget***                                             |
|                                                                      |
| This field provides the SL-PRS delay budget which is used in         |
| *UEAssistanceInformation* message as defined in TS 38.331 \[2\] and  |
| the resource selection as defined in TS 38.321 \[15\].               |
+----------------------------------------------------------------------+
| ***sl-PRS-Error***                                                   |
|                                                                      |
| This field provides SL-PRS error reasons.                            |
+----------------------------------------------------------------------+
| ***sl-PRS-Periodicity***                                             |
|                                                                      |
| This field provides the periodicity of SL-PRS which is used in       |
| *UEAssistanceInformation* message as defined in TS 38.331 \[2\].     |
| Value *ms100* corresponds to 100 ms, value *ms200* corresponds to    |
| 200 ms, and so on.                                                   |
+----------------------------------------------------------------------+
| ***sl-PRS-Priority***                                                |
|                                                                      |
| This field provides the priority of SL-PRS which is used in          |
| *UEAssistanceInformation* message as defined in TS 38.331 \[2\] and  |
| the resource selection as defined in TS 38.321 \[15\]. Value 1 is    |
| the highest priority whereas value 8 is the lowest priority.         |
+----------------------------------------------------------------------+
| ***sl-PRS-SequenceID***                                              |
|                                                                      |
| This field specifies the sequence ID used to initialize cinit value  |
| used in pseudo random generator for generation of SL PRS sequence    |
| for transmission on a given SL PRS Resource, as specified in TS      |
| 38.211 \[6\] for a UE identified by *applicationLayerID*. If a UE    |
| does not receive a sequence ID via this SLPP message, the sequence   |
| ID is based on the 12 LSB bits CRC of PSCCH associated with the SL   |
| PRS.                                                                 |
+----------------------------------------------------------------------+
| ***sl-PRS-Transmission***                                            |
|                                                                      |
| This field, if present, indicates that the UE is requested to start  |
| the SL-PRS transmission once the resource is available. If this      |
| field is absent, the UE can store the *SL-PRS-TxInfo* for future     |
| SL-PRS transmission (e.g., triggered by SCI from a peer UE).         |
+----------------------------------------------------------------------+

#### *-- CommonSL-PRS-MethodsIEsRequestLocationInformation*

\-- ASN1START

\-- TAG-COMMONSL-PRS-METHODSIESREQUESTLOCATIONINFORMATION-START

CommonSL-PRS-MethodsIEsRequestLocationInformation ::= SEQUENCE {

sl-POS-ARP-ID-Tx-Req ENUMERATED { true } OPTIONAL,

\...

}

\-- TAG-COMMONSL-PRS-METHODSIESREQUESTLOCATIONINFORMATION-STOP

\-- ASN1STOP

#### *-- CommonSL-PRS-MethodsIEsProvideLocationInformation*

\-- ASN1START

\-- TAG-COMMONSL-PRS-METHODSIESPROVIDELOCATIONINFORMATION-START

CommonSL-PRS-MethodsIEsProvideLocationInformation ::= SEQUENCE {

sl-POS-ARP-ID-Tx SL-POS-ARP-ID-Tx-InfoList OPTIONAL,

sl-PRS-Error SL-PRS-LocationInformationError OPTIONAL,

\...

}

SL-POS-ARP-ID-Tx-InfoList ::= SEQUENCE (SIZE (1..4)) OF
SL-POS-ARP-ID-Tx-Info

SL-POS-ARP-ID-Tx-Info ::= SEQUENCE {

sl-POS-ARP-ID INTEGER (1..4),

sl-PRS-ResourceIdList-Tx SEQUENCE (SIZE(1..16)) OF SL-PRS-ResourceId-Tx

}

SL-PRS-LocationInformationError ::= ENUMERATED { undefined, \... }

SL-PRS-ResourceId-Tx ::= SEQUENCE {

sl-PRS-ResourceId INTEGER (0..16) OPTIONAL,

tx-TimeStamp SL-TimeStamp

}

\-- TAG-COMMONSL-PRS-METHODSIESPROVIDELOCATIONINFORMATION-STOP

\-- ASN1STOP

#### *-- End of SLPP-PDU-CommonSL-PRS-MethodsContents*

\-- ASN1START

END

\-- ASN1STOP

6.7 SLPP PDU SL-AoA Contents
----------------------------

#### *-- SLPP-PDU-SL-AoA-Contents*

This ASN.1 segment is the start of the SLPP PDU SL-AoA Contents
definitions.

\-- ASN1START

\-- TAG-SLPP-PDU-SL-AOA-CONTENTS-START

SLPP-PDU-SL-AoA-Contents DEFINITIONS AUTOMATIC TAGS ::=

BEGIN

IMPORTS

LCS-GCS-Translation,

LOS-NLOS-Indicator,

PositioningModes,

SL-TimeStamp,

SL-TimingQuality,

maxNrOfUEs,

ScheduledLocationTimeSupportPerMode,

nrMaxBands

FROM

SLPP-PDU-Definitions

LocationCoordinateTypes,

VelocityTypes

FROM

SLPP-PDU-CommonContents;

\-- TAG-SLPP-PDU-SL-AOA-CONTENTS-STOP

\-- ASN1STOP

#### *-- SL-AoA-RequestCapabilities*

\-- ASN1START

\-- TAG-SL-AOA-REQUESTCAPABILITIES-START

SL-AoA-RequestCapabilities ::= SEQUENCE {

\...

}

\-- TAG-SL-AOA-REQUESTCAPABILITIES-STOP

\-- ASN1STOP

#### *-- SL-AoA-ProvideCapabilities*

The IE *SL-AoA-ProvideCapabilities* is used to indicate the support of
SL-AoA and to provide SL-AoA positioning capabilities.

\-- ASN1START

\-- TAG-SL-AOA-PROVIDECAPABILITIES-START

SL-AoA-ProvideCapabilities ::= SEQUENCE {

positioningModes PositioningModes,

tenMsUnitResponseTime PositioningModes OPTIONAL,

periodicalReporting PositioningModes OPTIONAL,

scheduledLocationRequestSupported ScheduledLocationTimeSupportPerMode
OPTIONAL,

locationCoordinateTypes LocationCoordinateTypes OPTIONAL,

velocityTypes VelocityTypes OPTIONAL,

sl-AoA-CapabilityBandList SEQUENCE (SIZE (1..nrMaxBands)) OF
SL-AoA-CapabilityPerBand,

\...

}

SL-AoA-CapabilityPerBand ::= SEQUENCE {

\--R1 41-1-7g SL PRS measurement for SL AoA

sl-AoA-Meas BIT STRING { gcs (0), lcsWithTranslation (1),
lcsWithoutTranslation (2) } (SIZE (1..8))

OPTIONAL,

dummy ENUMERATED { supported } OPTIONAL,

\...,

\[\[

\--R1 41-1-19a Report of Rx ARP-ID with SL positioning measurements

measurementsForMultipleARP-IDs-Rx ENUMERATED {n2, n3, n4} OPTIONAL

\]\]

}

\-- TAG-SL-AOA-PROVIDECAPABILITIES-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *SL-AoA-ProvideCapabilities field descriptions*                      |
+======================================================================+
| ***dummy***                                                          |
|                                                                      |
| The field is not used in the specification. If received it shall be  |
| ignored by the receiving endpoint.                                   |
+----------------------------------------------------------------------+
| ***locationCoordinateTypes***                                        |
|                                                                      |
| This parameter identifies the geographical location coordinate types |
| that a target UE supports for SL-AoA. TRUE indicates that a location |
| coordinate type is supported and FALSE indicates that it is not.     |
+----------------------------------------------------------------------+
| ***measurementsForMultipleARP-IDs-Rx***                              |
|                                                                      |
| This field, if present, indicates the maximum number of Rx ARP-IDs   |
| with SL-AoA measurements that the UE supports.                       |
+----------------------------------------------------------------------+
| ***periodicalReporting***                                            |
|                                                                      |
| This field, if present, specifies the positioning modes for which    |
| the UE supports *periodicalReporting*. This is represented by a bit  |
| string, with a one value at the bit position means                   |
| *periodicalReporting* for the positioning mode is supported; a zero  |
| value means not supported. If this field is absent, the UE does not  |
| support *periodicalReporting* in IE                                  |
| *CommonIEsRequestLocationInformation*.                               |
+----------------------------------------------------------------------+
| ***positioningModes***                                               |
|                                                                      |
| This field specifies the SL-AoA mode(s) supported by the UE.         |
+----------------------------------------------------------------------+
| ***scheduledLocationRequestSupported***                              |
|                                                                      |
| This field, if present, specifies the positioning modes for which    |
| the UE supports scheduled location requests, i.e., supports the IE   |
| *ScheduledLocationTime* in IE *CommonIEsRequestLocationInformation*  |
| and the time base(s) supported for the scheduled location time for   |
| each positioning mode. If this field is absent, the UE does not      |
| support scheduled location requests.                                 |
+----------------------------------------------------------------------+
| ***sl-AoA-Meas***                                                    |
|                                                                      |
| Indicates whether UE supports SL PRS measurement for SL-AoA, and is  |
| comprised of the following functional components:                    |
|                                                                      |
| \- Support SL AoA measurement based on SL-PRS;                       |
|                                                                      |
| \- Support SL AoA measurement reporting types.                       |
|                                                                      |
| The value indicates the supported SL AoA measurement reporting       |
| types. The left most bit in the bitmap corresponds to GCS, the next  |
| bit in the bitmap corresponds to LCS with translation, the right     |
| most bit in the bitmap corresponds to LCS without translation. A bit |
| in the bitmap is set to 1 if the corresponding type is supported by  |
| the UE.                                                              |
|                                                                      |
| UE supporting this feature shall also support                        |
| *sl-PRS-CommonProcCapabilityPerBand*.                                |
+----------------------------------------------------------------------+
| ***tenMsUnitResponseTime***                                          |
|                                                                      |
| This field, if present, specifies the positioning modes for which    |
| the UE supports the enumerated value \'*tenMilliSeconds*\' in the IE |
| *ResponseTime* in IE *CommonIEsRequestLocationInformation*. This is  |
| represented by a bit string, with a one value at the bit position    |
| means \'*tenMilliSeconds*\' response time unit for the positioning   |
| mode is supported; a zero value means not supported. If this field   |
| is absent, the UE does not support \'*tenMilliSeconds*\' response    |
| time unit in *CommonIEsRequestLocationInformation*.                  |
+----------------------------------------------------------------------+
| ***velocityTypes***                                                  |
|                                                                      |
| This parameter identifies the velocity types that a target UE        |
| supports for SL-AoA. TRUE indicates that a velocity type is          |
| supported and FALSE indicates that it is not. If this field is       |
| absent, velocity reporting is not supported.                         |
+----------------------------------------------------------------------+

#### *-- SL-AoA-RequestAssistanceData*

\-- ASN1START

\-- TAG-SL-AOA-REQUESTASSISTANCEDATA-START

SL-AoA-RequestAssistanceData ::= SEQUENCE {

expectedSL-ElevationAoA-AndUncertainty ENUMERATED { true} OPTIONAL,

\...

}

\-- TAG-SL-AOA-REQUESTASSISTANCEDATA-STOP

\-- ASN1STOP

#### *-- SL-AoA-ProvideAssistanceData*

\-- ASN1START

\-- TAG-SL-AOA-PROVIDEASSISTANCEDATA-START

SL-AoA-ProvideAssistanceData ::= SEQUENCE {

sl-AoA-AssistanceDataInfo SEQUENCE (SIZE (1..maxNrOfUEs)) OF
SL-AoA-AssistanceData OPTIONAL,

sl-AoA-Error SL-AoA-AssistanceDataError OPTIONAL,

\...

}

SL-AoA-AssistanceData ::= SEQUENCE {

applicationLayerID OCTET STRING,

expectedSL-AoA SEQUENCE {

expectedSL-AzimuthAoA INTEGER(0..3599), \--
expected-SL-AoA-and-Uncertainty

expectedSL-AzimuthAoA-Uncertainty INTEGER (0..60) OPTIONAL,

expectedSL-ElevationAoA INTEGER(0..1800) OPTIONAL, \--
expected-SL-AoA-and-Uncertainty

expectedSL-ElevationAoA-Uncertainty INTEGER(0..30) OPTIONAL

},

lcs-GCS-TranslationParameter LCS-GCS-Translation OPTIONAL,

\...

}

SL-AoA-AssistanceDataError ::= ENUMERATED { undefined,
assistanceDataNotAvailable, \... }

\-- TAG-SL-AoA-PROVIDEASSISTANCEDATA-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *SL-AoA-ProvideAssistanceData field descriptions*                    |
+======================================================================+
| ***applicationLayerID***                                             |
|                                                                      |
| This field provides an application layer ID as defined in TS 23.287  |
| \[9\] which is used to identify a UE.                                |
+----------------------------------------------------------------------+
| ***expectedSL-AzimuthAoA***                                          |
|                                                                      |
| This field specifies expected azimuth angle of arrival. Scale factor |
| 0.1 degree; range 0 to 359.9 degrees.                                |
+----------------------------------------------------------------------+
| ***expectedSL-AzimuthAoA-Uncertainty***                              |
|                                                                      |
| This field specifies the (single-sided) uncertainty of the expected  |
| azimuth angle of arrival. If this field is absent, it indicates      |
| maximum uncertainty (60 degrees).                                    |
|                                                                      |
| Scale factor 1 degree; range 0 to 60 degrees.                        |
+----------------------------------------------------------------------+
| ***expectedSL-ElevationAoA***                                        |
|                                                                      |
| This field specifies expected elevation angle of arrival. Scale      |
| factor 0.1 degree; range 0 to 180 degrees.                           |
+----------------------------------------------------------------------+
| ***expectedSL-ElevationAoA-Uncertainty***                            |
|                                                                      |
| This field specifies expected the (single-sided) uncertainty of the  |
| expected elevation angle of arrival. If this field is absent, it     |
| indicates maximum uncertainty (30 degrees).                          |
|                                                                      |
| Scale factor 1 degree; range 0 to 30 degrees.                        |
+----------------------------------------------------------------------+
| ***lcs-GCS-TranslationParameter***                                   |
|                                                                      |
| This field provides the angles α (bearing angle), β (downtilt angle) |
| and γ (slant angle) for the translation of a Local Coordinate System |
| (LCS) to a Global Coordinate System (GCS) as defined in TR 38.901    |
| \[8\].                                                               |
+----------------------------------------------------------------------+
| ***sl-AoA-Error***                                                   |
|                                                                      |
| This field provides SL-AoA error reasons.                            |
+----------------------------------------------------------------------+

#### *-- SL-AoA-RequestLocationInformation*

\-- ASN1START

\-- TAG-SL-AOA-REQUESTLOCATIONINFORMATION-START

SL-AoA-RequestLocationInformation ::= SEQUENCE {

sl-AoA-Request ENUMERATED { aoa, zoa, both},

measurementReportingType ENUMERATED { gcs, lcsWithTranslation,
lcsWithoutTranslation } OPTIONAL,

measurementsForMultipleARP-IDs-Rx SEQUENCE {

requestedARP-IDs-Rx BIT STRING (SIZE (4)) OPTIONAL

} OPTIONAL,

sl-ARP-InfoRequest ENUMERATED { true } OPTIONAL,

sl-LOS-NLOS-IndicatorRequest ENUMERATED { true } OPTIONAL,

sl-PRS-RSRP-Request ENUMERATED { true } OPTIONAL,

sl-RSRPP-Request ENUMERATED { true } OPTIONAL,

sl-AdditionalPathsRequest ENUMERATED { true } OPTIONAL,

\...

}

\-- TAG-SL-AOA-REQUESTLOCATIONINFORMATION-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *SL-AoA-RequestLocationInformation field descriptions*               |
+======================================================================+
| ***measurementsForMultipleARP-IDs-Rx***                              |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide the requested SL-AoA measurements for multiple SL-PRS Rx     |
| ARP-IDs.                                                             |
+----------------------------------------------------------------------+
| ***requestedARP-IDs-Rx***                                            |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide the requested SL-AoA measurements for indicated SL-PRS Rx    |
| ARP-IDs. Bit 1 in the bit string indicates ARP-ID = 1, bit 2         |
| indicates ARP-ID = 2, and so on.                                     |
+----------------------------------------------------------------------+
| ***sl-AdditionalPathsRequest***                                      |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide *sl-AoA-AdditionalPathList*.                                 |
+----------------------------------------------------------------------+
| ***sl-ARP-InfoRequest***                                             |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide *sl-POS-ARP-ID-Rx*.                                          |
+----------------------------------------------------------------------+
| ***sl-LOS-NLOS-IndicatorRequest***                                   |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide the estimated *los-NLOS-Indicator*.                          |
+----------------------------------------------------------------------+
| ***sl-PRS-RSRP-Request***                                            |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide *sl-PRS-RSRP-Result*.                                        |
+----------------------------------------------------------------------+
| ***sl-RSRPP-Request***                                               |
|                                                                      |
| *This field, if present, indicates that the UE is requested to       |
| provide sl-RSRPP.*                                                   |
+----------------------------------------------------------------------+

#### *-- SL-AoA-ProvideLocationInformation*

\-- ASN1START

\-- TAG-SL-AOA-PROVIDELOCATIONINFORMATION-START

SL-AoA-ProvideLocationInformation ::= SEQUENCE {

sl-AoA-SignalMeasurementInformation SL-AoA-SignalMeasurementInformation
OPTIONAL,

sl-AoA-Error SL-AoA-LocationInformationError OPTIONAL,

\...

}

SL-AoA-SignalMeasurementInformation ::= SEQUENCE {

sl-AoA-MeasList SEQUENCE (SIZE(1.. maxNrOfUEs)) OF
SL-AoA-MeasElementPerARP-ID-Rx,

\...

}

SL-AoA-MeasElementPerARP-ID-Rx ::= SEQUENCE (SIZE(1..4)) OF
SL-AoA-MeasElement

SL-AoA-MeasElement ::= SEQUENCE {

applicationLayerID OCTET STRING OPTIONAL, \-- Cond FirstElement

sl-LCS-GCS-Translation LCS-GCS-Translation OPTIONAL, \-- Cond
FirstElement

los-NLOS-Indicator LOS-NLOS-Indicator OPTIONAL, \-- sl-losNlosIndicator

sl-AngleQuality MeasurementAngleQuality OPTIONAL, \-- sl-AngleQuality

sl-AoA-AdditionalPathList SL-AoA-AdditionalPathList OPTIONAL,

sl-AzimuthAoA-Result INTEGER (0..3599) OPTIONAL, \-- sl-PRS-AoA

sl-POS-ARP-ID-Rx INTEGER (1..4) OPTIONAL, \-- sl-pos-arpID-Rx

sl-PRS-ResourceId INTEGER (0..16) OPTIONAL, \-- sl-PRS-ResourceId

sl-PRS-RSRP-Result INTEGER (0..126) OPTIONAL, \-- sl-PRS-RSRP

sl-PRS-RSRPP-Result INTEGER (0..126) OPTIONAL, \-- sl-PRS-RSRPP

sl-TimeStamp SL-TimeStamp OPTIONAL, \-- sl-Timestamp

sl-ElevationAoA-Result INTEGER (0..1800) OPTIONAL, \-- sl-PRS-AoA

\...

}

SL-AoA-AdditionalPathList ::= SEQUENCE (SIZE(1..2)) OF
SL-AoA-AdditionalPath

SL-AoA-AdditionalPath ::= SEQUENCE {

sl-AngleQuality MeasurementAngleQuality OPTIONAL, \-- sl-AngleQuality

sl-AzimuthAoA-AdditionalPathResult INTEGER (0..3599) OPTIONAL, \--
additionalPath-SL-PRS-AoA

sl-ElevationAoA-AdditionalPathResult INTEGER (0..1800) OPTIONAL, \--
additionalPath-SL-PRS-AoA

sl-PRS-AdditionalPathRSRPP-Result INTEGER (0..126) OPTIONAL, \--
additionalPath-SL-PRS-RSRPP

\...

}

MeasurementAngleQuality ::= SEQUENCE {

azimuthQuality INTEGER (0..255),

elevationQuality INTEGER (0..255) OPTIONAL

}

SL-AoA-LocationInformationError ::= ENUMERATED { undefined,
assistanceDataMissing, notAllRequestedMeasurementsPossible, \... }

\-- TAG-SL-AOA-PROVIDELOCATIONINFORMATION-STOP

\-- ASN1STOP

  Conditional presence   Explanation
  ---------------------- ----------------------------------------------------------------------------------------------------------------------------------------
  *FirstElement*         The field is mandatory present in the first *SL-AoA-MeasElement* in IE *SL-AoA-MeasElementPerARP-ID-Rx*. Otherwise, it is not present.

+----------------------------------------------------------------------+
| *SL-AoA-ProvideLocationInformation field descriptions*               |
+======================================================================+
| ***los-NLOS-Indicator***                                             |
|                                                                      |
| This field specifies the UE\'s best estimate of the LOS or NLOS of   |
| the UE measurements (including RSTD, RTOA, RSRP, RSRPP, AoA and UE   |
| Rx-Tx time difference).                                              |
+----------------------------------------------------------------------+
| ***sl-AngleQuality***                                                |
|                                                                      |
| This field specifies the angle quality for measurement results       |
| reported. Scale factor 0.1 degree.                                   |
+----------------------------------------------------------------------+
| ***sl-AoA-AdditionalPathList***                                      |
|                                                                      |
| This field specifies the sidelink PRS measurements based on          |
| additional path of arrival.                                          |
+----------------------------------------------------------------------+
| ***sl-AzimuthAoA-Result***                                           |
|                                                                      |
| This field specifies the first path result of azimuth angle of       |
| arrival. Scale factor 0.1 degree; range 0 to 359.9 degrees.          |
+----------------------------------------------------------------------+
| ***sl-ElevationAoA-Result***                                         |
|                                                                      |
| This field specifies the first path result of elevation angle of     |
| arrival. Scale factor 0.1 degree; range 0 to 180 degrees.            |
+----------------------------------------------------------------------+
| ***sl-LCS-GCS-Translation***                                         |
|                                                                      |
| This field provides the angles α (bearing angle), β (downtilt angle) |
| and γ (slant angle) for the translation of a Local Coordinate System |
| (LCS) to a Global Coordinate System (GCS) as defined in TR 38.901    |
| \[8\].                                                               |
+----------------------------------------------------------------------+
| ***sl-POS-ARP-ID-Rx***                                               |
|                                                                      |
| This field indicates ARP ID of an ARP used for reception for per-ARP |
| measurement reporting. The ARP ID is used to uniquely identify an    |
| ARP associated with a UE.                                            |
+----------------------------------------------------------------------+
| ***sl-PRS-ResourceId***                                              |
|                                                                      |
| This field specifies the sidelink PRS resource ID used for SL        |
| positioning measurements.                                            |
+----------------------------------------------------------------------+
| ***sl-PRS-RSRP-Result***                                             |
|                                                                      |
| This field specifies the sidelink PRS reference signal received      |
| power (RSRP) measurement.                                            |
+----------------------------------------------------------------------+
| ***sl-PRS-RSRPP-Result***                                            |
|                                                                      |
| This field specifies the SL-RSRPP measurement based on first path of |
| arrival.                                                             |
+----------------------------------------------------------------------+
| ***sl-TimeStamp***                                                   |
|                                                                      |
| This field specifies the time instance at which the SL-PRS RSRP (if  |
| included) measurement is performed.                                  |
+----------------------------------------------------------------------+

#### *-- End of SLPP-PDU-SL-AoA-Contents*

\-- ASN1START

END

\-- ASN1STOP

6.8 SLPP PDU SL-RTT Contents
----------------------------

#### *-- SLPP-PDU-SL-RTT-Contents*

This ASN.1 segment is the start of the SLPP PDU SL-RTT Contents
definitions.

\-- ASN1START

\-- TAG-SLPP-PDU-SL-RTT-CONTENTS-START

SLPP-PDU-SL-RTT-Contents DEFINITIONS AUTOMATIC TAGS ::=

BEGIN

IMPORTS

LOS-NLOS-Indicator,

PositioningModes,

SL-TimeStamp,

SL-TimingQuality,

maxNrOfUEs,

ScheduledLocationTimeSupportPerMode,

nrMaxBands

FROM

SLPP-PDU-Definitions

LocationCoordinateTypes,

VelocityTypes

FROM

SLPP-PDU-CommonContents;

\-- TAG-SLPP-PDU-SL-RTT-CONTENTS-STOP

\-- ASN1STOP

#### *-- SL-RTT-RequestCapabilities*

\-- ASN1START

\-- TAG-SL-RTT-REQUESTCAPABILITIES-START

SL-RTT-RequestCapabilities ::= SEQUENCE {

\...

}

\-- TAG-SL-RTT-REQUESTCAPABILITIES-STOP

\-- ASN1STOP

#### *-- SL-RTT-ProvideCapabilities*

The IE *SL-RTT-ProvideCapabilities* is used to indicate the support of
SL-RTT and to provide SL-RTT positioning capabilities.

\-- ASN1START

\-- TAG-SL-RTT-PROVIDECAPABILITIES-START

SL-RTT-ProvideCapabilities ::= SEQUENCE {

positioningModes PositioningModes,

tenMsUnitResponseTime PositioningModes OPTIONAL,

periodicalReporting PositioningModes OPTIONAL,

scheduledLocationRequestSupported ScheduledLocationTimeSupportPerMode
OPTIONAL,

locationCoordinateTypes LocationCoordinateTypes OPTIONAL,

velocityTypes VelocityTypes OPTIONAL,

sl-RTT-CapabilityBandList SEQUENCE (SIZE (1..nrMaxBands)) OF
SL-RTT-CapabilityPerBand,

\...

}

SL-RTT-CapabilityPerBand ::= SEQUENCE {

\--R1 41-1-7c SL PRS measurement for UE Rx--Tx time difference without
Tx time stamp

sl-PRS-RxTxTimeDiffWithoutTxTimeStamp ENUMERATED {n1,n2,n3,n4} OPTIONAL,

\--R1 41-1-7d SL PRS measurement for UE Rx--Tx time difference with Tx
time stamp

sl-PRS-RxTxTimeDiffWithTxTimeStamp SEQUENCE {

numOfMeasForSameSL-PRS ENUMERATED {n1,n2,n3,n4},

maxMeasReportingForDiffSL-PRS ENUMERATED {n1,n2,n3,n4}

} OPTIONAL,

dummy ENUMERATED { supported } OPTIONAL,

\...,

\[\[

\--R1 41-1-19a Report of Rx ARP-ID with SL positioning measurements

measurementsForMultipleARP-IDs-Rx ENUMERATED {n2, n3, n4} OPTIONAL

\]\]

}

\-- TAG-SL-RTT-PROVIDECAPABILITIES-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *SL-RTT-ProvideCapabilities field descriptions*                      |
+======================================================================+
| ***dummy***                                                          |
|                                                                      |
| The field is not used in the specification. If received it shall be  |
| ignored by the receiving endpoint.                                   |
+----------------------------------------------------------------------+
| ***locationCoordinateTypes***                                        |
|                                                                      |
| This parameter identifies the geographical location coordinate types |
| that a target UE supports for SL-RTT. TRUE indicates that a location |
| coordinate type is supported and FALSE that it is not.               |
+----------------------------------------------------------------------+
| ***measurementsForMultipleARP-IDs-Rx***                              |
|                                                                      |
| This field, if present, indicates the maximum number of Rx ARP-IDs   |
| with SL-RTT measurements that the UE supports.                       |
+----------------------------------------------------------------------+
| ***periodicalReporting***                                            |
|                                                                      |
| This field, if present, specifies the positioning modes for which    |
| the UE supports *periodicalReporting*. This is represented by a bit  |
| string, with a one value at the bit position means                   |
| *periodicalReporting* for the positioning mode is supported; a zero  |
| value means not supported. If this field is absent, the UE does not  |
| support *periodicalReporting* in IE                                  |
| *CommonIEsRequestLocationInformation*.                               |
+----------------------------------------------------------------------+
| ***positioningModes***                                               |
|                                                                      |
| This field specifies the SL-RTT mode(s) supported by the UE.         |
+----------------------------------------------------------------------+
| ***scheduledLocationRequestSupported***                              |
|                                                                      |
| This field, if present, specifies the positioning modes for which    |
| the UE supports scheduled location requests, i.e., supports the IE   |
| *ScheduledLocationTime* in IE *CommonIEsRequestLocationInformation*  |
| and the time base(s) supported for the scheduled location time for   |
| each positioning mode. If this field is absent, the UE does not      |
| support scheduled location requests.                                 |
+----------------------------------------------------------------------+
| ***sl-PRS-RxTxTimeDiffWithoutTxTimeStamp***                          |
|                                                                      |
| Indicates whether UE supports SL PRS measurement for UE Rx--Tx time  |
| difference without Tx time stamp, and is comprised of the following  |
| functional components:                                               |
|                                                                      |
| \- Support UE Rx--Tx time difference measurement based on SL PRS;    |
|                                                                      |
| \- Support UE Rx--Tx time difference measurement reporting without   |
| Tx time stamp.                                                       |
|                                                                      |
| The value indicates the supported maximum number of Rx-Tx            |
| measurement reporting for different SL-PRS reception for the same    |
| pair of UEs.                                                         |
|                                                                      |
| UE supporting this feature shall also support                        |
| *sl-PRS-CommonProcCapabilityPerBand*, and at least one of            |
| *sl-PRS-TxInSharedResourcePool*,                                     |
| *sl-PRS-TxScheme1InDedicatedResourcePool* or                         |
| *sl-PRS-TxScheme2InDedicatedResourcePool*.                           |
+----------------------------------------------------------------------+
| ***sl-PRS-RxTxTimeDiffWithTxTimeStamp***                             |
|                                                                      |
| Indicates whether UE supports SL PRS measurement for UE Rx--Tx time  |
| difference with Tx time stamp, and is comprised of the following     |
| functional components:                                               |
|                                                                      |
| \- Support UE Rx--Tx time difference measurement based on SL PRS;    |
|                                                                      |
| \- Support UE Rx--Tx time difference measurement reporting with Tx   |
| time stamp;                                                          |
|                                                                      |
| This field comprises the following sub-fields:                       |
|                                                                      |
| \- *numOfMeasForSameSL-PRS*: indicates the reported number of Rx-Tx  |
| measurements for the same SL-PRS transmission (or reception) and     |
| different SL-PRS reception (or transmission) for the same pair of    |
| UEs;                                                                 |
|                                                                      |
| \- *maxMeasReportingForDiffSL-PRS*: indicates the supported maximum  |
| number of Rx-Tx measurement reporting for different SL-PRS reception |
| for the same pair of UEs.                                            |
|                                                                      |
| UE supporting this feature shall also support                        |
| *sl-PRS-CommonProcCapabilityPerBand*, and at least one of            |
| *sl-PRS-TxInSharedResourcePool*,                                     |
| *sl-PRS-TxScheme1InDedicatedResourcePool* or                         |
| *sl-PRS-TxScheme2InDedicatedResourcePool*.                           |
+----------------------------------------------------------------------+
| ***tenMsUnitResponseTime***                                          |
|                                                                      |
| This field, if present, specifies the positioning modes for which    |
| the UE supports the enumerated value \'*tenMilliSeconds*\' in the IE |
| *ResponseTime* in IE *CommonIEsRequestLocationInformation*. This is  |
| represented by a bit string, with a one value at the bit position    |
| means \'*tenMilliSeconds*\' response time unit for the positioning   |
| mode is supported; a zero value means not supported. If this field   |
| is absent, the UE does not support \'*tenMilliSeconds*\' response    |
| time unit in *CommonIEsRequestLocationInformation*.                  |
+----------------------------------------------------------------------+
| ***velocityTypes***                                                  |
|                                                                      |
| This parameter identifies the velocity types that a target UE        |
| supports for SL-RTT. TRUE indicates that a velocity type is          |
| supported and FALSE that it is not. If this field is absent,         |
| velocity reporting is not supported.                                 |
+----------------------------------------------------------------------+

#### *-- SL-RTT-RequestAssistanceData*

\-- ASN1START

\-- TAG-SL-RTT-REQUESTASSISTANCEDATA-START

SL-RTT-RequestAssistanceData ::= SEQUENCE {

\...

}

\-- TAG-SL-RTT-REQUESTASSISTANCEDATA-STOP

\-- ASN1STOP

#### *-- SL-RTT-ProvideAssistanceData*

\-- ASN1START

\-- TAG-SL-RTT-PROVIDEASSISTANCEDATA-START

SL-RTT-ProvideAssistanceData ::= SEQUENCE {

\...

}

\-- TAG-SL-RTT-PROVIDEASSISTANCEDATA-STOP

\-- ASN1STOP

#### *-- SL-RTT-RequestLocationInformation*

\-- ASN1START

\-- TAG-SL-RTT-REQUESTLOCATIONINFORMATION-START

SL-RTT-RequestLocationInformation ::= SEQUENCE {

sl-ARP-InfoRequest ENUMERATED { true } OPTIONAL,

sl-LOS-NLOS-IndicatorRequest ENUMERATED { true } OPTIONAL,

sl-PRS-RSRP-Request ENUMERATED { true } OPTIONAL,

sl-RSRPP-Request ENUMERATED { true } OPTIONAL,

sl-AdditionalPathsRequest ENUMERATED { true } OPTIONAL,

dummy ENUMERATED { true } OPTIONAL,

multipleSL-PRS-RxTxTimeDiffRequest SEQUENCE {

diffSL-PRS-Receptions ENUMERATED { n2, n3, n4 } OPTIONAL,

diffSL-PRS-Transmissions ENUMERATED { n2, n3, n4 } OPTIONAL

} OPTIONAL,

measurementsForMultipleARP-IDs-Rx SEQUENCE {

requestedARP-IDs-Rx BIT STRING (SIZE (4)) OPTIONAL

} OPTIONAL,

associatedSL-PRS-TxTimeStampRequest ENUMERATED { true } OPTIONAL,

\...

}

\-- TAG-SL-RTT-REQUESTLOCATIONINFORMATION-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *SL-RTT-RequestLocationInformation field descriptions*               |
+======================================================================+
| ***associatedSL-PRS-TxTimeStampRequest***                            |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide *tx-TimeInfo*.                                               |
+----------------------------------------------------------------------+
| ***dummy***                                                          |
|                                                                      |
| *This field is not used in the specification. If received it shall   |
| be ignored by the UE.*                                               |
+----------------------------------------------------------------------+
| ***measurementsForMultipleARP-IDs-Rx***                              |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide the requested SL-RTT measurements for multiple SL-PRS Rx     |
| ARP-IDs.                                                             |
+----------------------------------------------------------------------+
| ***multipleSL-PRS-RxTxTimeDiffRequest***                             |
|                                                                      |
| *This field*, if present, indicates that the UE is requested to      |
| provide multiple Rx-Tx measurements for the same SL PRS transmission |
| (resp. reception) and up to N different SL PRS receptions (resp.     |
| transmissions) for the same pair of UE(s). **Fields are as           |
| follows**:                                                           |
|                                                                      |
| \- ***diffSL-PRS-Receptions*** indicates that the UE is requested to |
| provide multiple Rx-Tx measurements for the same SL PRS transmission |
| and up to N different SL PRS receptions.                             |
|                                                                      |
| \- ***diffSL-PRS-Transmissions*** indicates that the UE is requested |
| to provide multiple Rx-Tx measurements for the same SL PRS reception |
| and up to N different SL PRS transmissions.                          |
+----------------------------------------------------------------------+
| ***requestedARP-IDs-Rx***                                            |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide the requested SL-RTT measurements for indicated SL-PRS Rx    |
| ARP-IDs. Bit 1 in the bit string indicates ARP-ID = 1, bit 2         |
| indicates ARP-ID = 2, and so on.                                     |
+----------------------------------------------------------------------+
| ***sl-AdditionalPathsRequest***                                      |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide *sl-RTT-AdditionalPathList*.                                 |
+----------------------------------------------------------------------+
| ***sl-ARP-InfoRequest***                                             |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide *sl-POS-ARP-ID-Rx*.                                          |
+----------------------------------------------------------------------+
| ***sl-LOS-NLOS-IndicatorRequest***                                   |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide the estimated *los-NLOS-Indicator*.                          |
+----------------------------------------------------------------------+
| ***sl-RSRPP-Request***                                               |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide *sl-RSRPP*.                                                  |
+----------------------------------------------------------------------+
| ***sl-PRS-RSRP-Request***                                            |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide *sl-PRS-RSRP-Result*.                                        |
+----------------------------------------------------------------------+

#### *-- SL-RTT-ProvideLocationInformation*

\-- ASN1START

\-- TAG-SL-RTT-PROVIDELOCATIONINFORMATION-START

SL-RTT-ProvideLocationInformation ::= SEQUENCE {

sl-RTT-SignalMeasurementInformation SL-RTT-SignalMeasurementInformation
OPTIONAL,

sl-RTT-Error SL-RTT-LocationInformationError OPTIONAL,

\...

}

SL-RTT-MeasElementPerARP-ID-Rx ::= SEQUENCE (SIZE(1..4)) OF
SL-RTT-MeasElement

SL-RTT-SignalMeasurementInformation ::= SEQUENCE {

sl-RTT-MeasList SEQUENCE (SIZE(1..maxNrOfUEs)) OF
SL-RTT-MeasElementPerARP-ID-Rx,

\...

}

SL-RTT-MeasElement ::= SEQUENCE {

applicationLayerID OCTET STRING OPTIONAL, \-- Cond FirstElement

los-NLOS-Indicator LOS-NLOS-Indicator OPTIONAL, \-- sl-losNlosIndicator

sl-POS-ARP-ID-Rx INTEGER (1..4) OPTIONAL, \-- sl-pos-arpID-Rx

sl-PRS-RxTxTimeDiffMeasResult SL-PRS-RxTxTimeDiffMeasResult,

\...

}

SL-PRS-RxTxTimeDiffMeasResult ::= CHOICE {

single-SL-PRS-RxTxTimeDiff SL-PRS-RxTxTimeDiffResult,

multiple-SL-PRS-RxTxTimeDiff SEQUENCE {

sameSL-PRS-TxAndDiffSL-PRS-Rx SEQUENCE (SIZE (2..4)) OF
SL-PRS-RxTxTimeDiffResult OPTIONAL,

sameSL-PRS-RxAndDiffSL-PRS-Tx SEQUENCE (SIZE (2..4)) OF
SL-PRS-RxTxTimeDiffResult OPTIONAL

},

\...

}

SL-PRS-RxTxTimeDiffResult ::= SEQUENCE {

sl-PRS-ResourceId INTEGER (0..16) OPTIONAL, \-- sl-PRS-ResourceId

sl-PRS-RxTxTimeDiffResult CHOICE {

k0 INTEGER (0..1970049),

k1 INTEGER (0..985025),

k2 INTEGER (0..492513),

k3 INTEGER (0..246257),

k4 INTEGER (0..123129),

k5 INTEGER (0..61565)

} OPTIONAL, \-- sl-PRS-RxTxTimeDiff

sl-PRS-RSRP-Result INTEGER (0..126) OPTIONAL, \-- sl-PRS-RSRP

sl-PRS-RSRPP-Result INTEGER (0..126) OPTIONAL, \-- sl-PRS-RSRPP

sl-RTT-AdditionalPathList SL-RTT-AdditionalPathList OPTIONAL,

sl-TimeStamp SL-TimeStamp OPTIONAL, \-- sl-Timestamp

sl-TimingQuality SL-TimingQuality OPTIONAL, \-- sl-TimingQuality

tx-TimeInfo SL-TimeStamp OPTIONAL, \-- tx-Time-Info

\...

}

SL-RTT-AdditionalPathList ::= SEQUENCE (SIZE(1..8)) OF
SL-RTT-AdditionalPath

SL-RTT-AdditionalPath ::= SEQUENCE {

sl-PRS-RxTxTimeDiffAdditionalPathResult CHOICE {

k0 INTEGER (0..8191),

k1 INTEGER (0..4095),

k2 INTEGER (0..2047),

k3 INTEGER (0..1023),

k4 INTEGER (0..511),

k5 INTEGER (0..255)

} OPTIONAL, \-- additionalPath-SL-PRS-Rx-Tx-TimeDiff

sl-PRS-AdditionalPathRSRPP-Result INTEGER (0..126) OPTIONAL, \--
additionalPath-SL-PRS-RSRPP

sl-TimingQuality SL-TimingQuality OPTIONAL, \-- sl-TimingQuality

\...

}

SL-RTT-LocationInformationError ::= ENUMERATED { undefined,
assistanceDataMissing, notAllRequestedMeasurementsPossible, \... }

\-- TAG-SL-RTT-PROVIDELOCATIONINFORMATION-STOP

\-- ASN1STOP

  Conditional presence   Explanation
  ---------------------- ----------------------------------------------------------------------------------------------------------------------------------------
  *FirstElement*         The field is mandatory present in the first *SL-RTT-MeasElement* in IE *SL-RTT-MeasElementPerARP-ID-Rx*. Otherwise, it is not present.

+----------------------------------------------------------------------+
| *SL-RTT-ProvideLocationInformation field descriptions*               |
+======================================================================+
| ***los-NLOS-Indicator***                                             |
|                                                                      |
| This field specifies the UE\'s best estimate of the LOS or NLOS of   |
| the UE measurements (including RSTD, RTOA, RSRP, RSRPP, AoA and UE   |
| Rx-Tx time difference).                                              |
+----------------------------------------------------------------------+
| ***sl-POS-ARP-ID-Rx***                                               |
|                                                                      |
| This field indicates ARP ID of an ARP used for reception for per-ARP |
| measurement reporting. The ARP ID is used to uniquely identify an    |
| ARP associated with a UE.                                            |
+----------------------------------------------------------------------+
| ***sl-PRS-ResourceId***                                              |
|                                                                      |
| This field specifies the sidelink PRS resource ID used for SL        |
| positioning measurements.                                            |
+----------------------------------------------------------------------+
| ***sl-PRS-RSRP-Result***                                             |
|                                                                      |
| This field specifies the sidelink PRS reference signal received      |
| power (RSRP) measurement.                                            |
+----------------------------------------------------------------------+
| ***sl-PRS-RSRPP-Result***                                            |
|                                                                      |
| This field specifies the SL-RSRPP measurement based on first path of |
| arrival.                                                             |
+----------------------------------------------------------------------+
| ***sl-PRS-RxTxTimeDiffResult***                                      |
|                                                                      |
| This field specifies SL Rx-Tx time difference measurement based on   |
| first path of arrival. The mapping of the field is defined in TS     |
| 38.133 \[13\].                                                       |
+----------------------------------------------------------------------+
| ***sl-RTT-AdditionalPathList***                                      |
|                                                                      |
| This field specifies the sidelink PRS measurements based on          |
| additional path of arrival.                                          |
+----------------------------------------------------------------------+
| ***sl-RTT-Error***                                                   |
|                                                                      |
| ***This field provides SL-RTT error reasons.***                      |
+----------------------------------------------------------------------+
| ***sl-TimeStamp***                                                   |
|                                                                      |
| This field specifies the time instance at which the SL Rx-Tx time    |
| difference and SL-PRS RSRP (if included) measurement is performed.   |
+----------------------------------------------------------------------+
| ***tx-TimeInfo***                                                    |
|                                                                      |
| This field specifies the transmission timestamp of the SL-PRS,       |
| referred to as T~UE-TX~ in clause 5.1.40 in TS 38.215 \[16\].        |
+----------------------------------------------------------------------+

#### *-- End of SLPP-PDU-SL-RTT-Contents*

\-- ASN1START

END

\-- ASN1STOP

6.9 SLPP PDU SL-TDOA Contents
-----------------------------

#### *-- SLPP-PDU-**SL-TDOA-Contents*

This ASN.1 segment is the start of the SLPP PDU SL-TDOA Contents
definitions.

\-- ASN1START

\-- TAG-SLPP-PDU-SL-TDOA-CONTENTS-START

SLPP-PDU-SL-TDOA-Contents DEFINITIONS AUTOMATIC TAGS ::=

BEGIN

IMPORTS

LOS-NLOS-Indicator,

PositioningModes,

SL-RTD-Info,

SL-TimeStamp,

SL-TimingQuality,

maxNrOfUEs,

ScheduledLocationTimeSupportPerMode,

nrMaxBands

FROM

SLPP-PDU-Definitions

LocationCoordinateTypes,

VelocityTypes

FROM

SLPP-PDU-CommonContents;

\-- TAG-SLPP-PDU-SL-TDOA-CONTENTS-STOP

\-- ASN1STOP

#### *-- SL-TDOA-RequestCapabilities*

\-- ASN1START

\-- TAG-SL-TDOA-REQUESTCAPABILITIES-START

SL-TDOA-RequestCapabilities ::= SEQUENCE {

\...

}

\-- TAG-SL-TDOA-REQUESTCAPABILITIES-STOP

\-- ASN1STOP

#### *-- SL-TDOA-ProvideCapabilities*

The IE *SL-TDOA-ProvideCapabilities* is used to indicate the support of
SL-TDOA and to provide SL-TDOA positioning capabilities.

\-- ASN1START

\-- TAG-SL-TDOA-PROVIDECAPABILITIES-START

SL-TDOA-ProvideCapabilities ::= SEQUENCE {

positioningModes PositioningModes,

tenMsUnitResponseTime PositioningModes OPTIONAL,

periodicalReporting PositioningModes OPTIONAL,

scheduledLocationRequestSupported ScheduledLocationTimeSupportPerMode
OPTIONAL,

locationCoordinateTypes LocationCoordinateTypes OPTIONAL,

velocityTypes VelocityTypes OPTIONAL,

sl-TDOA-CapabilityBandList SEQUENCE (SIZE (1..nrMaxBands)) OF
SL-TDOA-CapabilityPerBand,

\...

}

SL-TDOA-CapabilityPerBand ::= SEQUENCE {

\--R1 41-1-7a SL PRS measurement for SL-RSTD

sl-PRS-RSTD-Meas ENUMERATED {n1,n2,n3,n4} OPTIONAL,

dummy ENUMERATED { supported } OPTIONAL,

\...,

\[\[

\--R1 41-1-19a Report of Rx ARP-ID with SL positioning measurements

measurementsForMultipleARP-IDs-Rx ENUMERATED {n2, n3, n4} OPTIONAL

\]\]

}

\-- TAG-SL-TDOA-PROVIDECAPABILITIES-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *SL-TDOA-ProvideCapabilities field descriptions*                     |
+======================================================================+
| ***dummy***                                                          |
|                                                                      |
| This field is not used in the specification. If received it shall be |
| ignored by the receiving endpoint.                                   |
+----------------------------------------------------------------------+
| ***locationCoordinateTypes***                                        |
|                                                                      |
| This parameter identifies the geographical location coordinate types |
| that a target UE supports for SL-TDOA. TRUE indicates that a         |
| location coordinate type is supported and FALSE that it is not.      |
+----------------------------------------------------------------------+
| ***measurementsForMultipleARP-IDs-Rx***                              |
|                                                                      |
| This field, if present, indicates the maximum number of Rx ARP-IDs   |
| with SL-TDOA measurements that the UE supports.                      |
+----------------------------------------------------------------------+
| ***periodicalReporting***                                            |
|                                                                      |
| This field, if present, specifies the positioning modes for which    |
| the UE supports *periodicalReporting*. This is represented by a bit  |
| string, with a one value at the bit position means                   |
| *periodicalReporting* for the positioning mode is supported; a zero  |
| value means not supported. If this field is absent, the UE does not  |
| support *periodicalReporting* in IE                                  |
| *CommonIEsRequestLocationInformation*.                               |
+----------------------------------------------------------------------+
| ***positioningModes***                                               |
|                                                                      |
| This field specifies the SL-TDOA mode(s) supported by the UE.        |
+----------------------------------------------------------------------+
| ***scheduledLocationRequestSupported***                              |
|                                                                      |
| This field, if present, specifies the positioning modes for which    |
| the UE supports scheduled location requests, i.e., supports the IE   |
| *ScheduledLocationTime* in IE *CommonIEsRequestLocationInformation*  |
| and the time base(s) supported for the scheduled location time for   |
| each positioning mode. If this field is absent, the UE does not      |
| support scheduled location requests.                                 |
+----------------------------------------------------------------------+
| ***sl-PRS-RSTD-Meas***                                               |
|                                                                      |
| Indicates whether UE supports SL PRS measurement for SL-RSTD, and is |
| comprised of the following functional components:                    |
|                                                                      |
| \- Support SL RSTD measurement based on SL-PRS;                      |
|                                                                      |
| \- Support SL RSTD measurement reporting;                            |
|                                                                      |
| The value indicates the supported maximum number of SL RSTD          |
| measurement reporting for different SL-PRS reception for the same    |
| pair of UEs.                                                         |
|                                                                      |
| UE supporting this feature shall also support                        |
| *sl-PRS-CommonProcCapabilityPerBand*.                                |
+----------------------------------------------------------------------+
| ***tenMsUnitResponseTime***                                          |
|                                                                      |
| This field, if present, specifies the positioning modes for which    |
| the UE supports the enumerated value \'*tenMilliSeconds*\' in the IE |
| *ResponseTime* in IE *CommonIEsRequestLocationInformation*. This is  |
| represented by a bit string, with a one value at the bit position    |
| means \'*tenMilliSeconds*\' response time unit for the positioning   |
| mode is supported; a zero value means not supported. If this field   |
| is absent, the UE does not support \'*tenMilliSeconds*\' response    |
| time unit in *CommonIEsRequestLocationInformation*.                  |
+----------------------------------------------------------------------+
| ***velocityTypes***                                                  |
|                                                                      |
| This parameter identifies the velocity types that a target UE        |
| supports for SL-TDOA. TRUE indicates that a velocity type is         |
| supported and FALSE that it is not. If this field is absent,         |
| velocity reporting is not supported.                                 |
+----------------------------------------------------------------------+

#### *-- SL-TDOA-RequestAssistanceData*

\-- ASN1START

\-- TAG-SL-TDOA-REQUESTASSISTANCEDATA-START

SL-TDOA-RequestAssistanceData ::= SEQUENCE {

sl-RTD-InfoRequest ENUMERATED { true} OPTIONAL,

\...

}

\-- TAG-SL-TDOA-REQUESTASSISTANCEDATA-STOP

\-- ASN1STOP

+--------------------------------------------------------------------+
| *SL-TDOA-RequestAssistanceData field descriptions*                 |
+====================================================================+
| ***sl-RTD-InfoRequest***                                           |
|                                                                    |
| **This field indicates that the SL RTD information is requested**. |
+--------------------------------------------------------------------+

#### *-- SL-TDOA-ProvideAssistanceData*

\-- ASN1START

\-- TAG-SL-TDOA-PROVIDEASSISTANCEDATA-START

SL-TDOA-ProvideAssistanceData ::= SEQUENCE {

sl-RTD-Info SL-RTD-Info OPTIONAL,

sl-TDOA-Error SL-TDOA-AssistanceDataError OPTIONAL,

\...

}

SL-TDOA-AssistanceDataError ::= ENUMERATED { undefined,
assistanceDataNotAvailable, \... }

\-- TAG-SL-TDOA-PROVIDEASSISTANCEDATA-STOP

\-- ASN1STOP

+-------------------------------------------------------------------+
| *SL-TDOA-ProvideAssistanceData field descriptions*                |
+===================================================================+
| ***sl-RTD-Info***                                                 |
|                                                                   |
| This field provides synchronization information of SL Anchor UEs. |
+-------------------------------------------------------------------+
| ***sl-TDOA-Error***                                               |
|                                                                   |
| This field provides SL-TDOA error reasons.                        |
+-------------------------------------------------------------------+

#### *-- SL-TDOA-RequestLocationInformation*

\-- ASN1START

\-- TAG-SL-TDOA-REQUESTLOCATIONINFORMATION-START

SL-TDOA-RequestLocationInformation ::= SEQUENCE {

sl-ARP-InfoRequest ENUMERATED { true } OPTIONAL,

sl-LOS-NLOS-IndicatorRequest ENUMERATED { true } OPTIONAL,

sl-PRS-RSRP-Request ENUMERATED { true } OPTIONAL,

sl-RSRPP-Request ENUMERATED { true } OPTIONAL,

sl-AdditionalPathsRequest ENUMERATED { true } OPTIONAL,

measurementsForMultipleARP-IDs-Rx SEQUENCE {

requestedARP-IDs-Rx BIT STRING (SIZE (4)) OPTIONAL

} OPTIONAL,

\...,

\[\[

maxNumberOfMeasurementsPerARP INTEGER (2..4) OPTIONAL

\]\]

}

\-- TAG-SL-TDOA-REQUESTLOCATIONINFORMATION-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *SL-TDOA-RequestLocationInformation field descriptions*              |
+======================================================================+
| ***maxNumberOfMeasurementsPerARP***                                  |
|                                                                      |
| *This field, if present, indicates that the UE is requested to       |
| provide the indicated maximum number of SL-TDOA measurements per ARP |
| for different SL-PRS reception for the same pair of UEs.*            |
+----------------------------------------------------------------------+
| ***measurementsForMultipleARP-IDs-Rx***                              |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide the requested SL-TDOA measurements for multiple SL-PRS Rx    |
| ARP-IDs.                                                             |
+----------------------------------------------------------------------+
| ***requestedARP-IDs-Rx***                                            |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide the requested SL-TDOA measurements for indicated SL-PRS Rx   |
| ARP-IDs. Bit 1 in the bit string indicates ARP-ID = 1, bit 2         |
| indicates ARP-ID = 2, and so on.                                     |
+----------------------------------------------------------------------+
| ***sl-AdditionalPathsRequest***                                      |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide *sl-TDOA-AdditionalPathList*.                                |
+----------------------------------------------------------------------+
| ***sl-ARP-InfoRequest***                                             |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide *sl-POS-ARP-ID-Rx*.                                          |
+----------------------------------------------------------------------+
| ***sl-LOS-NLOS-IndicatorRequest***                                   |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide the estimated *los-NLOS-Indicator*.                          |
+----------------------------------------------------------------------+
| ***sl-PRS-RSRP-Request***                                            |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide *sl-PRS-RSRP-Result*.                                        |
+----------------------------------------------------------------------+
| ***sl-RSRPP-Request***                                               |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide *sl-RSRPP*.                                                  |
+----------------------------------------------------------------------+

#### *-- SL-TDOA-ProvideLocationInformation*

\-- ASN1START

\-- TAG-SL-TDOA-PROVIDELOCATIONINFORMATION-START

SL-TDOA-ProvideLocationInformation ::= SEQUENCE {

sl-RSTD-ReferenceUE-Info SEQUENCE {

applicationLayerID OCTET STRING

} OPTIONAL,

sl-TDOA-SignalMeasurementInformation
SL-TDOA-SignalMeasurementInformation OPTIONAL,

sl-TDOA-Error SL-TDOA-LocationInformationError OPTIONAL,

\...

}

SL-TDOA-SignalMeasurementInformation ::= SEQUENCE {

sl-TDOA-MeasList SEQUENCE (SIZE(1..maxNrOfUEs)) OF
SL-TDOA-MeasElementPerARP-ID-Rx,

\...

}

SL-TDOA-MeasElementPerARP-ID-Rx ::= SEQUENCE (SIZE(1..4)) OF
SL-TDOA-MeasElement

SL-TDOA-MeasElement ::= SEQUENCE {

applicationLayerID OCTET STRING OPTIONAL, \-- Cond FirstElement

los-NLOS-Indicator LOS-NLOS-Indicator OPTIONAL, \-- sl-losNlosIndicator

sl-POS-ARP-ID-Rx INTEGER (1..4) OPTIONAL, \-- sl-pos-arpID-Rx

sl-PRS-ResourceId INTEGER (0..16) OPTIONAL, \-- sl-PRS-ResourceId

sl-PRS-RSRP-Result INTEGER (0..126) OPTIONAL, \-- sl-PRS-RSRP

sl-PRS-RSRPP-Result INTEGER (0..126) OPTIONAL, \-- sl-PRS-RSRPP

sl-RSTD-Result CHOICE {

k0 INTEGER (0..1970049),

k1 INTEGER (0..985025),

k2 INTEGER (0..492513),

k3 INTEGER (0..246257),

k4 INTEGER (0..123129),

k5 INTEGER (0..61565)

} OPTIONAL, \-- sl-PRS-RSTD

sl-TDOA-AdditionalPathList SL-TDOA-AdditionalPathList OPTIONAL,

sl-TimeStamp SL-TimeStamp OPTIONAL, \-- sl-Timestamp

sl-TimingQuality SL-TimingQuality OPTIONAL, \-- sl-TimingQuality

\...,

\[\[

sl-TDOA-AdditionalMeasurements SL-TDOA-AdditionalMeasurements OPTIONAL

\]\]

}

SL-TDOA-AdditionalMeasurements ::= SEQUENCE (SIZE (1..3)) OF
SL-TDOA-AdditionalMeasurementElement

SL-TDOA-AdditionalMeasurementElement ::= SEQUENCE {

sl-PRS-ResourceId INTEGER (0..16) OPTIONAL,

sl-PRS-RSRP-Result INTEGER (0..126) OPTIONAL,

sl-PRS-RSRPP-Result INTEGER (0..126) OPTIONAL,

sl-RSTD-Result CHOICE {

k0 INTEGER (0..1970049),

k1 INTEGER (0..985025),

k2 INTEGER (0..492513),

k3 INTEGER (0..246257),

k4 INTEGER (0..123129),

k5 INTEGER (0..61565)

} OPTIONAL,

los-NLOS-Indicator LOS-NLOS-Indicator OPTIONAL,

sl-TDOA-AdditionalPathList SL-TDOA-AdditionalPathList OPTIONAL,

sl-TimeStamp SL-TimeStamp OPTIONAL,

sl-TimingQuality SL-TimingQuality OPTIONAL,

\...

}

SL-TDOA-AdditionalPathList ::= SEQUENCE (SIZE(1..8)) OF
SL-TDOA-AdditionalPath

SL-TDOA-AdditionalPath ::= SEQUENCE {

sl-RSTD-AdditionalPathResult CHOICE {

k0 INTEGER (0..1970049),

k1 INTEGER (0..985025),

k2 INTEGER (0..492513),

k3 INTEGER (0..246257),

k4 INTEGER (0..123129),

k5 INTEGER (0..61565)

} OPTIONAL, \-- additionalPath-SL-PRS-RSTD

sl-PRS-AdditionalPathRSRPP-Result INTEGER (0..126) OPTIONAL, \--
additionalPath-SL-PRS-RSRPP

sl-TimingQuality SL-TimingQuality OPTIONAL, \-- sl-TimingQuality

\...

}

SL-TDOA-LocationInformationError ::= ENUMERATED { undefined,
assistanceDataMissing, notAllRequestedMeasurementsPossible, \... }

\-- TAG-SL-TDOA-PROVIDELOCATIONINFORMATION-STOP

\-- ASN1STOP

  Conditional presence   Explanation
  ---------------------- ------------------------------------------------------------------------------------------------------------------------------------------
  *FirstElement*         The field is mandatory present in the first *SL-TDOA-MeasElement* in IE *SL-TDOA-MeasElementPerARP-ID-Rx*. Otherwise, it is not present.

+----------------------------------------------------------------------+
| *SL-TDOA-ProvideLocationInformation field descriptions*              |
+======================================================================+
| ***los-NLOS-Indicator***                                             |
|                                                                      |
| This field specifies the UE\'s best estimate of the LOS or NLOS of   |
| the UE measurements (including RSTD, RTOA, RSRP, RSRPP, AoA and UE   |
| Rx-Tx time difference).                                              |
+----------------------------------------------------------------------+
| ***sl-POS-ARP-ID-Rx***                                               |
|                                                                      |
| This field indicates ARP ID of an ARP used for reception for per-ARP |
| measurement reporting. The ARP ID is used to uniquely identify an    |
| ARP associated with a UE.                                            |
+----------------------------------------------------------------------+
| ***sl-PRS-ResourceId***                                              |
|                                                                      |
| This field specifies the sidelink PRS resource ID used for SL        |
| positioning measurements.                                            |
+----------------------------------------------------------------------+
| ***sl-PRS-RSRP-Result***                                             |
|                                                                      |
| This field specifies the sidelink PRS reference signal received      |
| power (RSRP) measurement.                                            |
+----------------------------------------------------------------------+
| ***sl-PRS-RSRPP-Result***                                            |
|                                                                      |
| This field specifies the SL-RSRPP measurement based on first path of |
| arrival.                                                             |
+----------------------------------------------------------------------+
| ***sl-TDOA-AdditionalPathList***                                     |
|                                                                      |
| This field specifies the sidelink PRS measurements based on          |
| additional path of arrival.                                          |
+----------------------------------------------------------------------+
| ***sl-RSTD-Result***                                                 |
|                                                                      |
| This field specifies the SL-RSTD measurement based on first path of  |
| arrival. In this release, this field is always included.             |
+----------------------------------------------------------------------+
| ***sl-RSTD-ReferenceUE-Info***                                       |
|                                                                      |
| This field indicates reference UE information for SL-PRS based RSTD  |
| measurement report.                                                  |
+----------------------------------------------------------------------+
| ***sl-TimeStamp***                                                   |
|                                                                      |
| This field specifies the time instance at which the SL RSTD and      |
| SL-PRS RSRP (if included) measurement is performed.                  |
+----------------------------------------------------------------------+

#### *-- End of SLPP-PDU-SL-TDOA-Contents*

\-- ASN1START

END

\-- ASN1STOP

6.10 SLPP PDU SL-TOA Contents
-----------------------------

#### *-- SLPP-PDU-SL-TOA-Contents*

This ASN.1 segment is the start of the SLPP PDU SL-TOA Contents
definitions.

\-- ASN1START

\-- TAG-SLPP-PDU-SL-TOA-CONTENTS-START

SLPP-PDU-SL-TOA-Contents DEFINITIONS AUTOMATIC TAGS ::=

BEGIN

IMPORTS

LOS-NLOS-Indicator,

PositioningModes,

SL-RTD-Info,

SL-TimeStamp,

SL-TimingQuality,

maxNrOfUEs,

ScheduledLocationTimeSupportPerMode,

nrMaxBands

FROM

SLPP-PDU-Definitions

LocationCoordinateTypes,

VelocityTypes

FROM

SLPP-PDU-CommonContents;

\-- TAG-SLPP-PDU-SL-TOA-CONTENTS-STOP

\-- ASN1STOP

#### *-- SL-TOA-RequestCapabilities*

\-- ASN1START

\-- TAG-SL-TOA-REQUESTCAPABILITIES-START

SL-TOA-RequestCapabilities ::= SEQUENCE {

\...

}

\-- TAG-SL-TOA-REQUESTCAPABILITIES-STOP

\-- ASN1STOP

#### *-- SL-TOA-ProvideCapabilities*

The IE *SL-TOA-ProvideCapabilities* is used to indicate the support of
SL-TOA and to provide SL-TOA positioning capabilities.

\-- ASN1START

\-- TAG-SL-TOA-PROVIDECAPABILITIES-START

SL-TOA-ProvideCapabilities ::= SEQUENCE {

positioningModes PositioningModes,

tenMsUnitResponseTime PositioningModes OPTIONAL,

periodicalReporting PositioningModes OPTIONAL,

scheduledLocationRequestSupported ScheduledLocationTimeSupportPerMode
OPTIONAL,

locationCoordinateTypes LocationCoordinateTypes OPTIONAL,

velocityTypes VelocityTypes OPTIONAL,

sl-TOA-CapabilityBandList SEQUENCE (SIZE (1..nrMaxBands)) OF
SL-TOA-CapabilityPerBand,

\...

}

SL-TOA-CapabilityPerBand ::= SEQUENCE {

\--R1 41-1-7b SL PRS measurement for SL RTOA

sl-RTOA-Meas ENUMERATED {n1,n2,n3,n4} OPTIONAL,

dummy ENUMERATED { supported } OPTIONAL,

\...,

\[\[

\--R1 41-1-19a Report of Rx ARP-ID with SL positioning measurements

measurementsForMultipleARP-IDs-Rx ENUMERATED {n2, n3, n4} OPTIONAL

\]\]

}

\-- TAG-SL-TOA-PROVIDECAPABILITIES-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *SL-TOA-ProvideCapabilities field descriptions*                      |
+======================================================================+
| ***dummy***                                                          |
|                                                                      |
| This field is not used in the specification. If received it shall be |
| ignored by the receiving endpoint.                                   |
+----------------------------------------------------------------------+
| ***locationCoordinateTypes***                                        |
|                                                                      |
| This parameter identifies the geographical location coordinate types |
| that a target UE supports for SL-TOA. TRUE indicates that a location |
| coordinate type is supported and FALSE that it is not.               |
+----------------------------------------------------------------------+
| ***measurementsForMultipleARP-IDs-Rx***                              |
|                                                                      |
| This field, if present, indicates the maximum number of Rx ARP-IDs   |
| with SL-TOA measurements that the UE supports.                       |
+----------------------------------------------------------------------+
| ***periodicalReporting***                                            |
|                                                                      |
| This field, if present, specifies the positioning modes for which    |
| the UE supports *periodicalReporting*. This is represented by a bit  |
| string, with a one value at the bit position means                   |
| *periodicalReporting* for the positioning mode is supported; a zero  |
| value means not supported. If this field is absent, the UE does not  |
| support *periodicalReporting* in IE                                  |
| *CommonIEsRequestLocationInformation*.                               |
+----------------------------------------------------------------------+
| ***positioningModes***                                               |
|                                                                      |
| This field specifies the SL-TOA mode(s) supported by the UE.         |
+----------------------------------------------------------------------+
| ***scheduledLocationRequestSupported***                              |
|                                                                      |
| This field, if present, specifies the positioning modes for which    |
| the UE supports scheduled location requests, i.e., supports the IE   |
| *ScheduledLocationTime* in IE *CommonIEsRequestLocationInformation*  |
| and the time base(s) supported for the scheduled location time for   |
| each positioning mode. If this field is absent, the UE does not      |
| support scheduled location requests.                                 |
+----------------------------------------------------------------------+
| ***sl-RTOA-Meas***                                                   |
|                                                                      |
| Indicates whether UE supports SL PRS measurement for SL-RTOA, and is |
| comprised of the following functional components:                    |
|                                                                      |
| \- Support SL RTOA measurement based on SL-PRS;                      |
|                                                                      |
| \- Support SL RTOA measurement reporting.                            |
|                                                                      |
| The value indicates the supported maximum number of SL RTOA          |
| measurement reporting for different SL-PRS reception for the same    |
| pair of UEs.                                                         |
|                                                                      |
| UE supporting this feature shall also support                        |
| *sl-PRS-CommonProcCapabilityPerBand*.                                |
+----------------------------------------------------------------------+
| ***tenMsUnitResponseTime***                                          |
|                                                                      |
| This field, if present, specifies the positioning modes for which    |
| the UE supports the enumerated value \'*tenMilliSeconds*\' in the IE |
| *ResponseTime* in IE *CommonIEsRequestLocationInformation*. This is  |
| represented by a bit string, with a one value at the bit position    |
| means \'*tenMilliSeconds*\' response time unit for the positioning   |
| mode is supported; a zero value means not supported. If this field   |
| is absent, the UE does not support \'*tenMilliSeconds*\' response    |
| time unit in *CommonIEsRequestLocationInformation*.                  |
+----------------------------------------------------------------------+
| ***velocityTypes***                                                  |
|                                                                      |
| This parameter identifies the velocity types that a target UE        |
| supports for SL-TOA. TRUE indicates that a velocity type is          |
| supported and FALSE that it is not. If this field is absent,         |
| velocity reporting is not supported.                                 |
+----------------------------------------------------------------------+

#### *-- SL-TOA-RequestAssistanceData*

\-- ASN1START

\-- TAG-SL-TOA-REQUESTASSISTANCEDATA-START

SL-TOA-RequestAssistanceData ::= SEQUENCE {

sl-RTD-InfoRequest ENUMERATED { true} OPTIONAL,

\...

}

\-- TAG-SL-TOA-REQUESTASSISTANCEDATA-STOP

\-- ASN1STOP

+--------------------------------------------------------------------+
| *SL-TOA-RequestAssistanceData field descriptions*                  |
+====================================================================+
| ***sl-RTD-InfoRequest***                                           |
|                                                                    |
| **This field indicates that the SL RTD information is requested**. |
+--------------------------------------------------------------------+

#### *-- SL-TOA-ProvideAssistanceData*

\-- ASN1START

\-- TAG-SL-TOA-PROVIDEASSISTANCEDATA-START

SL-TOA-ProvideAssistanceData ::= SEQUENCE {

sl-RTD-Info SL-RTD-Info OPTIONAL,

sl-TOA-Error SL-TOA-AssistanceDataError OPTIONAL,

\...

}

SL-TOA-AssistanceDataError ::= ENUMERATED { undefined,
assistanceDataNotAvailable, \... }

\-- TAG-SL-TOA-PROVIDEASSISTANCEDATA-STOP

\-- ASN1STOP

+-------------------------------------------------------------------+
| *SL-TOA-ProvideAssistanceData field descriptions*                 |
+===================================================================+
| ***sl-RTD-Info***                                                 |
|                                                                   |
| This field provides synchronization information of SL Anchor UEs. |
+-------------------------------------------------------------------+
| ***sl-TOA-Error***                                                |
|                                                                   |
| This field provides SL-TOA error reasons.                         |
+-------------------------------------------------------------------+

#### *-- SL-TOA-RequestLocationInformation*

\-- ASN1START

\-- TAG-SL-TOA-REQUESTLOCATIONINFORMATION-START

SL-TOA-RequestLocationInformation ::= SEQUENCE {

sl-ARP-InfoRequest ENUMERATED { true } OPTIONAL,

sl-LOS-NLOS-IndicatorRequest ENUMERATED { true } OPTIONAL,

sl-PRS-RSRP-Request ENUMERATED { true } OPTIONAL,

sl-RSRPP-Request ENUMERATED { true } OPTIONAL,

sl-AdditionalPathsRequest ENUMERATED { true } OPTIONAL,

measurementsForMultipleARP-IDs-Rx SEQUENCE {

requestedARP-IDs-Rx BIT STRING (SIZE (4)) OPTIONAL

} OPTIONAL,

\...,

\[\[

maxNumberOfMeasurementsPerARP INTEGER (2..4) OPTIONAL

\]\]

}

\-- TAG-SL-TOA-REQUESTLOCATIONINFORMATION-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *SL-TOA-RequestLocationInformation field descriptions*               |
+======================================================================+
| ***maxNumberOfMeasurementsPerARP***                                  |
|                                                                      |
| *This field, if present, indicates that the UE is requested to       |
| provide the indicated maximum number of SL-TOA measurements per ARP  |
| for different SL-PRS reception for the same pair of UEs.*            |
+----------------------------------------------------------------------+
| ***measurementsForMultipleARP-IDs-Rx***                              |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide the requested SL-TOA measurements for multiple SL-PRS Rx     |
| ARP-IDs.                                                             |
+----------------------------------------------------------------------+
| ***requestedARP-IDs-Rx***                                            |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide the requested SL-TOA measurements for indicated SL-PRS Rx    |
| ARP-IDs. Bit 1 in the bit string indicates ARP-ID = 1, bit 2         |
| indicates ARP-ID = 2, and so on.                                     |
+----------------------------------------------------------------------+
| ***sl-AdditionalPathsRequest***                                      |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide *sl-TOA-AdditionalPathList*.                                 |
+----------------------------------------------------------------------+
| ***sl-ARP-InfoRequest***                                             |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide *sl-POS-ARP-ID-Rx*.                                          |
+----------------------------------------------------------------------+
| ***sl-LOS-NLOS-IndicatorRequest***                                   |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide the estimated *los-NLOS-Indicator*.                          |
+----------------------------------------------------------------------+
| ***sl-RSRPP-Request***                                               |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide *sl-RSRPP*.                                                  |
+----------------------------------------------------------------------+
| ***sl-PRS-RSRP-Request***                                            |
|                                                                      |
| This field, if present, indicates that the UE is requested to        |
| provide *sl-PRS-RSRP-Result*.                                        |
+----------------------------------------------------------------------+

#### *-- SL-TOA-ProvideLocationInformation*

\-- ASN1START

\-- TAG-SL-TOA-PROVIDELOCATIONINFORMATION-START

SL-TOA-ProvideLocationInformation ::= SEQUENCE {

sl-TOA-SignalMeasurementInformation SL-TOA-MeasElementPerARP-ID-Rx
OPTIONAL,

sl-TOA-Error SL-TOA-LocationInformationError OPTIONAL,

\...

}

SL-TOA-MeasElementPerARP-ID-Rx ::= SEQUENCE (SIZE(1..4)) OF
SL-TOA-MeasElement

SL-TOA-MeasElement ::= SEQUENCE {

los-NLOS-Indicator LOS-NLOS-Indicator OPTIONAL, \-- sl-losNlosIndicator

sl-RTOA-Result CHOICE {

k0 INTEGER (0..1970049),

k1 INTEGER (0..985025),

k2 INTEGER (0..492513),

k3 INTEGER (0..246257),

k4 INTEGER (0..123129),

k5 INTEGER (0..61565)

} OPTIONAL, \-- sl-PRS-RTOA

sl-POS-ARP-ID-Rx INTEGER (1..4) OPTIONAL, \-- sl-pos-arpID-Rx

sl-PRS-ResourceId INTEGER (0..16) OPTIONAL, \-- sl-PRS-ResourceId

sl-PRS-RSRP-Result INTEGER (0..126) OPTIONAL, \-- sl-PRS-RSRP

sl-PRS-RSRPP-Result INTEGER (0..126) OPTIONAL, \-- sl-PRS-RSRPP

sl-TOA-AdditionalPathList SL-TOA-AdditionalPathList OPTIONAL,

sl-TimeStamp SL-TimeStamp OPTIONAL, \-- sl-Timestamp

sl-TimingQuality SL-TimingQuality OPTIONAL, \-- sl-TimingQuality

\...,

\[\[

sl-TOA-AdditionalMeasurements SL-TOA-AdditionalMeasurements OPTIONAL

\]\]

}

SL-TOA-AdditionalMeasurements ::= SEQUENCE (SIZE (1..3)) OF
SL-TOA-AdditionalMeasurementElement

SL-TOA-AdditionalMeasurementElement ::= SEQUENCE {

sl-PRS-ResourceId INTEGER (0..16) OPTIONAL,

sl-PRS-RSRP-Result INTEGER (0..126) OPTIONAL,

sl-PRS-RSRPP-Result INTEGER (0..126) OPTIONAL,

sl-RTOA-Result CHOICE {

k0 INTEGER (0..1970049),

k1 INTEGER (0..985025),

k2 INTEGER (0..492513),

k3 INTEGER (0..246257),

k4 INTEGER (0..123129),

k5 INTEGER (0..61565)

} OPTIONAL,

los-NLOS-Indicator LOS-NLOS-Indicator OPTIONAL,

sl-TOA-AdditionalPathList SL-TOA-AdditionalPathList OPTIONAL,

sl-TimeStamp SL-TimeStamp OPTIONAL,

sl-TimingQuality SL-TimingQuality OPTIONAL,

\...

}

SL-TOA-AdditionalPathList ::= SEQUENCE (SIZE(1..8)) OF
SL-TOA-AdditionalPath

SL-TOA-AdditionalPath ::= SEQUENCE {

sl-RTOA-AdditionalPathResult CHOICE {

k0 INTEGER (0..16351),

k1 INTEGER (0..8176),

k2 INTEGER (0..4088),

k3 INTEGER (0..2044),

k4 INTEGER (0..1022),

k5 INTEGER (0..511)

} OPTIONAL, \-- additionalPath-SL-PRS-RTOA

sl-PRS-AdditionalPathRSRPP-Result INTEGER (0..126) OPTIONAL, \--
additionalPath-SL-PRS-RSRPP

sl-TimingQuality SL-TimingQuality OPTIONAL, \-- sl-TimingQuality

\...

}

SL-TOA-LocationInformationError ::= ENUMERATED { undefined,
assistanceDataMissing, notAllRequestedMeasurementsPossible, \... }

\-- TAG-SL-TOA-PROVIDELOCATIONINFORMATION-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *SL-TOA-ProvideLocationInformation field descriptions*               |
+======================================================================+
| ***los-NLOS-Indicator***                                             |
|                                                                      |
| This field specifies the UE\'s best estimate of the LOS or NLOS of   |
| the UE measurements (including RSTD, RTOA, RSRP, RSRPP, AoA and UE   |
| Rx-Tx time difference).                                              |
+----------------------------------------------------------------------+
| ***sl-TOA-AdditionalPathList***                                      |
|                                                                      |
| This field specifies the sidelink PRS measurements based on          |
| additional path of arrival.                                          |
+----------------------------------------------------------------------+
| ***sl-POS-ARP-ID-Rx***                                               |
|                                                                      |
| This field indicates ARP ID of an ARP used for reception for per-ARP |
| measurement reporting. The ARP ID is used to uniquely identify an    |
| ARP associated with a UE.                                            |
+----------------------------------------------------------------------+
| ***sl-PRS-ResourceId***                                              |
|                                                                      |
| This field specifies the PRS sidelink resource ID used for SL        |
| positioning measurements.                                            |
+----------------------------------------------------------------------+
| ***sl-PRS-RSRP-Result***                                             |
|                                                                      |
| This field specifies the sidelink PRS reference signal received      |
| power (RSRP) measurement.                                            |
+----------------------------------------------------------------------+
| ***sl-PRS-RSRPP-Result***                                            |
|                                                                      |
| This field specifies the SL-RSRPP measurement based on first path of |
| arrival.                                                             |
+----------------------------------------------------------------------+
| ***sl-RTOA-Result***                                                 |
|                                                                      |
| This field specifies the SL-RTOA measurement based on first path of  |
| arrival. In this release, this field is always included.             |
+----------------------------------------------------------------------+
| ***sl-TimeStamp***                                                   |
|                                                                      |
| This field specifies the time instance at which the SL RTOA and      |
| SL-PRS RSRP (if included) measurement is performed.                  |
+----------------------------------------------------------------------+

#### *-- End of SLPP-PDU-SL-TOA-Contents*

\-- ASN1START

END

\-- ASN1STOP

6.11 Information elements related to Discovery Message
------------------------------------------------------

This clause specifies information elements that are transferred in
Discovery Message for ranging and sidelink positioning, as specified in
TS 23.304 \[14\].

#### *-- NR-DiscoveryMessageMetaDataContents*

This ASN.1 segment is the start of the
*NR-DiscoveryMessageMetaDataContents* definitions.

\-- ASN1START

\-- TAG-NR-DISCOVERYMESSAGEMETADATACONTENTS-START

NR-DiscoveryMessageMetaDataContents DEFINITIONS AUTOMATIC TAGS ::=

BEGIN

\-- TAG-NR-DISCOVERYMESSAGEMETADATACONTENTS-STOP

\-- ASN1STOP

#### *-- RSPP-Metadata*

The IE *RSPP-Metadata* includes the UE information included in Discovery
Message for ranging and sidelink positioning.

\-- ASN1START

\-- TAG-RSPP-METADATA-START

RSPP-Metadata ::= SEQUENCE {

ue-RoleList BIT STRING { sl-anchorUE(0), sl-ServerUE(1), sl-TargetUE(2)
} (SIZE (1..8)),

knownLocationAvailable ENUMERATED {true} OPTIONAL,

\...

}

\-- TAG-RSPP-METADATA-STOP

\-- ASN1STOP

+----------------------------------------------------------------------+
| *RSPP-Metadata field descriptions*                                   |
+======================================================================+
| ***ue-RoleList***                                                    |
|                                                                      |
| This field indicates the UE role associate with the discovery        |
| message. This is represented by a bit string, with a one value at    |
| the bit position means the particular UE role associate with the     |
| discovery message.                                                   |
|                                                                      |
| In the case of solicitation message, this bit string is interpreted  |
| as:                                                                  |
|                                                                      |
| \- ***bit 0 indicates whether the UE role as an SL Anchor UE is      |
| requested or not;***                                                 |
|                                                                      |
| \- ***bit 1 indicates whether the UE role as an SL Server UE is      |
| requested or not;***                                                 |
|                                                                      |
| \- ***bit 2 indicates whether the UE role as an SL Target UE is      |
| requested or not.***                                                 |
|                                                                      |
| Otherwise, the bit string is interpreted as:                         |
|                                                                      |
| \- ***bit 0 indicates** whether the UE supports UE role as an SL     |
| Anchor UE or not;*                                                   |
|                                                                      |
| \- ***bit 1 indicates** whether the UE supports UE role as an SL     |
| Server UE or not;*                                                   |
|                                                                      |
| \- ***bit 2 indicates** whether the UE supports UE role as an SL     |
| Target UE or not.*                                                   |
+----------------------------------------------------------------------+
| ***knownLocationAvailable***                                         |
|                                                                      |
| This field indicates whether the location of an SL Anchor UE is      |
| known or is able to be known, e.g., via Uu based positioning. The    |
| field can only be present if *the bit 0 of ue-RoleList is set.*      |
+----------------------------------------------------------------------+

#### *-- End of NR-DiscoveryMessageMetaDataContents*

\-- ASN1START

END

\-- ASN1STOP

######## Annex A (informative): Change history

  ---------------- ---------------- ------------ ------ ----- ----- -------------------------------------------------------------------------------------------------------------- -------------
  Change history                                                                                                                                                                   
  Date             Meeting          TDoc         CR     Rev   Cat   Subject/Comment                                                                                                New version
  04/2023          RAN2\#121bis-e   R2-2302739                                                                                                                                     0.0.1
  04/2023          RAN2\#121bis-e   R2-2304306                                                                                                                                     0.0.2
  05/2023          RAN2\#122        R2-2305439                                                                                                                                     0.0.3
  08/2023          RAN2\#123        R2-2307663                                                                                                                                     0.0.4
  09/2023          RAN2\#123        R2-2309183                      Endorsed by RAN2 in email discussion \[Post123\]\[415\]                                                        0.0.5
  09/2023          RP-101           RP-232009                       To be presented to RAN for information                                                                         1.0.0
  10/2023          RAN2\#123bis     R2-2310222                      Not endorsed in RAN2\#123bis                                                                                   1.1.0
  11/2023          RAN2\#124        R2-2312021                                                                                                                                     1.2.0
  11/2023          RAN2\#124        R2-2313630                      Agreed by RAN2 in email discussion \[Post124\]\[419\]                                                          1.3.0
  12/2023          RP-102           RP-233391                       To be presented to RAN for Approval                                                                            2.0.0
  12/2023          RP-102                                           Promoted to Rel-18 after approval                                                                              18.0.0
  03/2024          RP-103           RP-240696    0001   1     F     Miscellaneous corrections to SLPP specification                                                                18.1.0
                   RP-103           RP-240696    0002   \-    B     CR 38.355 for SLPP capability                                                                                  18.1.0
  06/2024          RP-104           RP-241566    0003   3     F     Miscellaneous corrections to SLPP specification                                                                18.2.0
                   RP-104           RP-241542    0004   2     B     CR 38.355 for SLPP capability                                                                                  18.2.0
  09/2024          RP-105           RP-242239    0005   3     F     Miscellaneous corrections to SLPP specification                                                                18.3.0
  12/2024          RP-106           RP-243231    0008   4     F     Corrections of location time stamp, RSTD and RTOA report                                                       18.4.0
                   RP-106           RP-243231    0011   2     D     Miscellaneous corrections to SLPP specification                                                                18.4.0
                   RP-106           RP-243231    0012   1     F     Correction on tx timestamp request in SL-RTT                                                                   18.4.0
                   RP-106           RP-243219    0013   1     F     Corrections on capabilities for FG R1 41-1-19a and 41-1-19b in IE CommonSL-PRS-MethodsIEsProvideCapabilities   18.4.0
                   RP-106           RP-243231    0014   2     F     Correction on SLPP                                                                                             18.4.0
  03/2025          RP-107           RP-250662    0009   2     F     Missing additional measurements for SL-TDOA and SL-TOA                                                         18.5.0
  06/2025          RP-108           RP-251694    0015   1     F     Missing rate of change direction of azimuth/elevation for relative velocity                                    18.6.0
  ---------------- ---------------- ------------ ------ ----- ----- -------------------------------------------------------------------------------------------------------------- -------------
